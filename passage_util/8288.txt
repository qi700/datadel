电子政务中数据备份恢复技术的研究
作者.周成兵随着我国政治文明的推进和社会信息化的发展.电子政务已成为政府应用信息技术进行社会管理与服务的重要形式.电子政务系统中存储的各类信息数据安全问题直接关系到政府和国家的利益.数据备份作为电子政务系统中不可缺少的重要组成部分.是保证数据资源可靠性.一致性和完整性必备的技术手段.数据备份也被誉为是保证数据安全的最后一道防线.1.数据备份的重要性在电子政务系统的建设与管理中.政务数据的安全性是极为重要的.无论是来自自然灾害的威胁.还是认为主观因素的灾难.一旦所保存的数据被破坏或丢失.就会对政府部门的日常工作造成严重的影响.甚至给国家利益带来重大损失.经不完全统计.威胁电子政务系统数据安全的因素有以下几个方面.自然因素.地震.火灾.雷电.洪水.飓风.工业事故.人为因素.盗窃.蓄意破坏.病毒.缺乏经验造成的误操作.压力和恐慌造成的误删除.硬件故障.硬盘损伤.服务器宕机.电源故障.存储器故障.软件故障.数据库设计缺陷.应用软件故障.操作系统故障.网络故障.网络连接问题.网络卡和驱动程序故障.然而.任何以预防为目的的保护措施.无论其多么全面周到.细致入微.都只能尽量地减少而不是杜绝灾难的发生.当突发事件和人为.意外所造成的计算机数据的破坏.丢失突如其来的时候.最关键的问题就是如何恢复计算机系统.使其正常运行.从现阶段来看.采用数据备份系统备份关键数据是解决数据损坏和丢失的唯一可行的解决方案.在数据备份研究领域.通常以服务器与数据备份设备的连接率作为评价数据备份普及程度和对数据安全保护程度的一个重要衡量指标.以美国为首的西方发达国家.在电子政务等信息化建设中非常重视数据存储备份技术.并将其充分利用.据统计.在国外.数据库服务器与磁带机的连接已经达到60.而在国内.只有不到15.的服务器连接有备份设备.因此.如何安全.有效地做好数据备份成为我国电子政务建设中需要迫切解决的问题.必须引起我们的重视.2.数据备份的认识误区数据备份.是指为防止系统出现上述灾难而导致数据丢失.通过软硬件技术将全系统或部分数据集合从适时应用主机的硬盘或磁盘阵列复制到其他存储介质的过程.传统的数据备份主要是采用内置或者外置的磁带机等硬件设备对数据进行间单的冷备份.只能防止操作失误等人为故障.而且其恢复时间也很长.随着计算机和网络技术的发展.数据备份领域逐渐出现了备份软件技术.而且在整个数据备份过程中扮演中重要的角色.推动着数据备份技术不断发展和完善.到目前.数据备份技术已经不仅仅指数据的简单备份.而是包括内容及备份的管理等多方面.集硬件技术和软件技术于一体的系统工程.但是.在实践中.很多人对数据备份仍然存在种种误解.通常把数据备份等同于文件拷贝.磁盘阵列.双机热备.适时容灾等技术.在本节中笔者将对相关概念进行阐述.2.1文件拷贝.数据备份有人认为文件拷贝即是数据备份.其实拷贝无法使文件留下历史记录以便追踪.也无法留下系统注册表等信息.数据备份与文件拷贝的区别在于.备份不是单纯的更换磁带.为磁带编号等一个完全程式化的.单调的操作过程.相对于文件拷贝.数据备份还包括更重要的备份管理.一个完善的备份解决方案应具备备份任务的计划性设定.磁带机的自动化操作管理.历史记录的保存及日志记录.以及支持各种数据型态等功能.更重要的是能跨平台地整合不同操作系统之间的数据备份.2.2磁盘阵列.数据备份磁盘阵列的意思是独立磁盘冗余阵列.通过raid技术使多个独立的硬盘通过不同方式组合成一个硬盘组.设置硬盘组的目的之一是在提升磁盘的读写性能.其次是通过容错算法提供数据安全性保护.在数据保护方面.磁盘阵列通过将数据分散在不同磁盘上.使用一定的校验算法.当阵列中某一个磁盘发生硬件故障时.利用容错算法将故障盘上数据转存至其它硬盘.从而避免因磁盘损坏而丢失数据.而这并不是真正意义上的备份.数据备份除了将数据复制一份或更多份之外.还有更深一层的意义.那就是历史数据的保存.当用户进行了某些误操作时.可以利用备份将数据恢复到发生误操作之前的状态.2.3双机热备.数据备份 双机热备.集群是一种容错方式.采用双机热备可以避免应用系统因服务器发生硬件故障而停机.从而使系统具高可靠性.当主服务器宕机时.通过集群软件技术.备份服务器能够迅速接管主服务器运行的应用程序和数据资源.保证应用的不间断运行.为客户端提供持续的服务.事实上.双机热备技术.只是通过系统冗余来解决系统应用进程的连续运行问题.但系统冗余不能替代有效的数据备份.2.4容灾备份.数据备份容灾备份系统一般由可接替生产系统的后备运行系统.数据备份系统.传输数据的备用通讯线路等部分组成.在正常工作中.生产系统通过网络传输方法向异地灾备系统中同步数据.灾难发生后.异地灾备系统将接替生产系统继续运行.对外服务.目前异地容灾系统中.较实用的数据传输备份包括远程数据库复制.网络数据镜像.远程镜像磁盘等.容灾可以分为数据级别.应用级别以及业务级别.其中数据级别的容灾备份与本地数据备份有相似之处.但是由于容灾备份系统是通过网络实施数据异地备份.相比本地数据备份.代价较高.备份和恢复时间较长.因此也不能替代数据备份系统.3.数据备份系统的设计目标数据备份是一种数据安全策略.通过备份软件把数据备份到磁带或其他介质上.在原始数据丢失或遭到破坏的情况下.利用备份数据把原始数据恢复出来.使系统能够正常工作.理想的备份系统是全方位.多层次的.首先.要使用硬件备份来防止硬件故障.保证业务的不间断运行.更重要的是.要使用软件备份手段全面保护计算机系统的数据.备份系统总的目标是建立数据自动备份系统.对电子政务中的关键业务数据进行无人值守的网络自动备份.从而对数据进行集中的管理工作.即建立网络备份存储管理系统.具体地说.网络备份管理系统的设计目标包括以下几个方面.集中式管理.跨网络备份.利用集中式管理工具.系统管理员可对全网的备份策略进行统一管理.备份服务器可以监控所有机器的备份作业.也可以修改备份策略.并可即时浏览所有目录.所有数据可以备份到同备份服务器或应用服务器相连的任意的备份介质上.数据库.邮件系统的备份和恢复.在许多人的观念里.数据库.邮件系统和文件还是一个概念.其实数据库.邮件系统是相当庞大而复杂的系统.普通文件备份方式不能适应它们的备份要求.能否将需要备份的数据从海量的数据库.邮件系统的相关文件中抽取出来进行备份.是网络备份系统是否先进的标志之一.全自动备份.对于大多数系统管理人员来说.备份是一项繁重的任务.每天都要花费大量时间用于手工数据备份.从而影响其他工作的开展.网络备份能够实现定时自动备份.大大减轻管理员的压力.安全性与可靠性.备份数据前自动对文件进行病毒扫描.能够确保备份的数据并未遭受病毒感染.以后再读出验证.以及提供同位检查信息.能确保备份在介质上的数据是正确的.便于使用.维护人员可以容易地恢复损坏的整个文件系统和各类数据.灾难恢复.可以在系统毁损而必须完全重新安装操作系统.应用程序的情况下.提供简便且快速的能力.以几个简单的步骤.跳过重新安装操作系统与应用程序的步骤.直接将损毁的系统在最短的时间内恢复原状.满足系统不断增加的需求.备份系统必须能支持多平台系统.当网络上连接其它的应用服务器时.对于网络存储管理系统来说.只需在其上安装支持这种服务器的客户端软件即可将数据备份到磁带库或其他介质中.4.网络数据备份系统比较常见的网络备份系统有基于网络的备份.lan.free备份和server.free备份等模式.4.1基于网络的备份在网络上选择一台应用服务器.安装网络数据备份管理服务器端软件.作为整个网络的备份服务器.在备份服务器上连接一台大容量备份存储设备.在网络中其他需要进行数据备份管理的服务器上安装网络数据备份管理客户端软件.通过局域网将数据集中备份到与备份服务器连接的存储设备上.这种备份模式的优点是节省投资.介质共享.缺点是网络传输压力大.4.2 lan.free备份是指在san环境下.将备份存储介质直接接在光纤交换机上.选择一台服务器作为备份服务器.同时在其它有数据备份需求的服务器上安装备份介质驱动软件.使之能够直接驱动备份介质.这样要备份的数据可以直接经过光纤交换机存入备份存储介质而不必经过网络传送到备份服务器再存入备份存储介质.大大提高了备份的速度.也减少了数据备份对网络的影响.缺点是投资较高.4.3 server.free备份通过系统静默.冻结映像服务.和影射等关键技术.使备份的数据不再经过备份客户端而是由备份代理直接从客户端的磁盘读取数据.并把它备份到存储介质上.这样.备份的大部分任务就被转移到了一台单独的备份代理上.大大减轻了备份作业对于备份客户端性能的影响.这种模式是推出的时间较短.成熟度不是很高.无论采用何种备份模式.其核心都是备份管理软件.通过备份软件的计划功能.可为整个网络建立一套完善的备份计划及策略.备份软件也提供完善的灾难恢复手段.能够将备份硬件的优良特性完全发挥出来.使备份和灾难恢复时间大大缩短.实现网络数据备份的全自动智能化管理.目前在数据存储领域可以完成网络数据备份管理的软件产品主要有veritas netbackup.legato networker.ca arcserve等.5.备份策略及恢复计划5.1备份策略的制定日常备份制度描述了每天的备份以什么方式.使用什么备份介质进行.备份介质如何存放等内容.是系统备份方案的具体实施细则.在制订完毕后.应严格按照制度进行日常备份和管理.否则将无法达到备份方案所预定的目标.数据备份有多种方式.全备份.增量备份.差分备份.按需备份等.全备份.备份系统中所有的数据.增量备份.只备份上次备份以后有变化的数据.差分备份.只备份上次完全备份以后有变化的数据.按需备份.根据临时需要有选择地进行数据备份.全备份所需时间最长.但恢复时间最短.操作最方便.当系统中数据量不大时.采用全备份最可靠.但是随着数据量的不断增大.将无法每天做全备份.而只能在周末进行全备份.其它时间采用增量备份或差分备份.各种备份的数据量不同.全备份)差分备份)增量备份.在备份时要根据它们的特点灵活使用.例如每周一至周六进行一次增量备份或差分备份.每周日进行全备份.每月底进行一次全备份.每年底进行一次全备份.5.2恢复计划的制定恢复计划在整个备份制度中占有相当重要的地位.因为它关系到系统在经历灾难后能否迅速恢复.恢复操作通常可以分为以下几种.全盘恢复.数据库和邮件系统恢复.个别文件恢复和重定向恢复.全盘恢复.一般应用在服务器发生意外灾难导致数据全部丢失.系统崩溃或是有计划的系统升级.系统重组等情况.也称为系统恢复.数据库和邮件系统恢复.数据库和邮件系统的恢复对管理人员的要求较高.在利用备份软件进行恢复后.通常还需要进行一些后续的维护工作.因此要求管理人员应熟悉所管理的数据库和邮件系统自身的备份和恢复机制.个别文件恢复.个别文件恢复可能要比全盘恢复常见得多.利用网络备份系统的恢复功能.我们很容易恢复受损的个别文件.只需浏览备份数据库或目录.找到该文件.触动恢复功能.软件将自动驱动存储设备.加载相应的存储媒体.然后恢复指定文件.重定向恢复.重定向恢复是将备份的文件恢复到另一个不同的位置或系统上去.而不是进行备份操作时它们当时所在的位置.重定向恢复可以是整个系统恢复也可以是个别文件恢复.某些数据库和邮件系统也支持重定向恢复.重定向恢复时需要慎重考虑.要确保系统或文件恢复后的可用性.重定向恢复主要用于系统迁移和恢复演练中.系统恢复是一项要求非常高的工作.为了在灾难发生时能尽快地.准确无误地恢复系统.需要做好与备份策略相对应的详细恢复计划.同时还要定期进行恢复演练.恢复过程中的任何一个误操作都将导致灾难性的后果.无法恢复.应定期进行恢复演习.可以利用淘汰的机器或多余的硬盘进行灾难模拟.利用重定向恢复功能进行恢复演练.以熟悉恢复的操作过程.并检验所做的备份是否可靠.6.结论数据备份几乎比所有其它的网络作业更加枯燥.缺少趣味性.但它是系统维护中不可或缺的一环.而选择一个适合自己需要的备份系统也不是一件容易的事情.从规划设计.软件选型.硬件采购.系统测试.直到备份计划的实施都需要系统管理员付出艰辛的努力.一个完整的系统备份及恢复方案应包括.备份硬件.备份软件.备份制度和恢复计划四个部分.选了先进的备份硬件后.我们决不能忽略备份软件的选择.因为只有优秀的备份软件才能充分发挥硬件的先进功能.保证快速.有效的数据备份和恢复.同时更为重要的是根据自身情况制定日常备份制度和恢复预案.并由管理人员切实执行备份制度和恢复演练.否则系统安全将仅仅是纸上谈兵.