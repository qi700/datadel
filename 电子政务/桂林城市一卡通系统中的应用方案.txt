桂林城市一卡通系统中的应用方案
摘要：城市一卡通系统是依托自动识别技术和射频卡的基础上建立的为城市居民的生活提供便利的系统工程，体现了一卡多用、一卡通用的特点。
1城市一卡通特点
我国电子政务建设大致经历了三个阶段：第一个阶段是以“政府办公自动化”为依托，将信息终端、台式机等设备引入政府职能部门，并有条件的建立了一些部门的内部网；第二个阶段是以“三金”工程和政府上网工程为主要表现，建立起的初步规模的电子政务体系；第三个阶段是以增强设施功能、完善服务内容、建设应用环境为核心目标，并先后建立起像数字化城市、数码信息港湾等规模性、专业化的政府服务型网络体系。同时也有一些新技术和新产品参与到电子政务的信息化改造浪潮中来，如自动识别技术和非接触智能卡等，由于大量新技术和新产品的推动，国内部分城市建立或者在建的城市一卡通系统为国内电子政务的发展提供了大量可借鉴的宝贵经验。
城市一卡通系统是依托自动识别技术和射频卡的基础上建立的为城市居民的生活提供便利的系统工程，体现了一卡多用、一卡通用的特点，同时必须遵循总体规划、分步实施、规范性、效益性、开放性、可靠性等原则，它可实现的功能包括：医疗保险、社会保险、公共交通、代交话费、金融消费、水电气等公共事业收费与老百姓生活息息相关的可替代现金功能和信息载体的方面。 城市一卡通系统工程在建设过程中可以采取总体规划分步实施的方式，即将将来需要实现的功能作一个整体的规划，在实施阶段则采取先易后难、先重后轻的办法，将各功能分别开发，先后开通使用，这样即可以保证系统实施的规范性、可靠性，也可以降低系统实施的风险，减少人力、物力、财力的投入，增加城市一卡通系统的效益为老百姓带来生活便利，提高政府职能部门的服务质量和形象。
2.射频技术介绍
城市一卡通系统的建设需要用到自动识别技术和非接触卡技术，目前广泛应用的自动识别技术主要包括摄像、条码、磁卡、IC、射频等，这些识别技术都有各自的优缺点及适于应用的场合，另外有一种将射频技术和IC卡技术结合的产品即非接触卡技术，它是将射频识别的非接触特性用到普通IC卡上，从而实现IC卡的非接触读写操作，这种技术结合了射频识别技术和IC卡安全特性等诸多优点，同时又解决了一些各自技术上的缺点，成为在城市一卡通中使用的信息载体的首选产品。射频IC卡包括非接触存储器卡、非接触CPU卡和双界面CPU卡、电子标签等，非接触和双界面卡一般遵循ISO14443协议，其通讯协议使用typeA或typeB，typeA使用的较typeB广泛，电子标签遵循ISO14443或ISO15693等协议，一般视读写距离而定，电子标签具有价格便宜、制作印刷灵活，形态材质多样、应用广泛、技术先进、读写距离远等特点，将逐渐成为市场的宠儿。
北京捷德智能卡系统有限公司在城市一卡通系统建设方面也有着很多非常成功的经验，下面就广西桂林城市一卡通系统的项目建设做一些介绍。信息技术浪潮正影响着各行各业的业务运转，作为一种新的服务手段，城市一卡通系统不仅可以帮助桂林市在信息化旅游城市建设上继续保持优势，同时可以帮助桂林扩大其服务范围，获取不仅国内，甚至在国际上的客户，提高城市整体的竞争实力，基于以上的考虑，桂林市政府本着总体规划、分步实施的原则率先在国内推出了城市一卡通系统。
3.桂林城市一卡通概述
桂林城市一卡通系统充分利用双界面卡技术并将其与信息技术相结合将电子支付的标准性、简单性、连接性与核心的电子支付过程、客户信息数据库、行业信息管理结合在一起形成新的支付与管理模式提高支付的效率、发送信息、提供综合的客户服务能力和加深与客户的关系。为适应桂林市信息化城市建设发展的需要，桂林市政府针对目前桂林市金融行业、医疗保险、公交、旅游等行业已推出或即将推出的金融卡和非金融卡系统缺乏统一的标准和业务操作规范以及各行业所发行的磁卡、一卡通、非接触卡系统互不通用的现状，制定了“一卡在手，全市通行”的总体目标。
桂林城市一卡通系统要求覆盖社会保险、公交、旅游、公共事业等各种与支付有关的行业，为此，桂林市政府组织成立了桂林市城市通卡有限公司负责整个系统的运营工作。为实现这一目标，我公司设计了以下的一个业务流程模块结构（见图一）。
4.桂林城市一卡通系统详述
桂林市城市一卡通系统是以由各成员单位投资组建的股份制公司为数据交换中心，各成员银行、成员单位为联合发卡机构，借助银行网络系统，实现连接所辖所有公用事业单位的跨行业综合应用的业务处理系统。该系统最终为客户提供桂林市公用一卡通的发行、交易和结算的一条龙服务，一期实现医疗保险和公共交通以及金融交易功能，二期将实现旅游消费和公共事业收费等行业，一期采用双界面CPU卡，二期将可能采用基于ISO14443-typeB协议的非接触CPU卡和基于ISO15693协议的电子标签产品。 桂林市城市一卡通系统（一期工程）主要由银行交易支付系统和资金结算结算系统、数据交换中心、行业信息管理系统以及外部网络系统等部分组成。各子系统通过FR、DDN或X.25主干网以及PSTN电话网与数据交换中心互连，构成完整的城市一卡通系统。
4.1数据交换中心
数据交换中心是整个系统的核心部分，负责成员银行业务处理系统和成员单位的信息管理系统两大网络之间的信息交换和信息共享，是城市一卡通系统的核心。数据交换中心通过前置机管理系统与前台交易支付系统进行通讯，完成交易的预处理，根据交易的类型向不同的系统网络转发；通过成员银行前置机管理系统完成与银行业务处理系统网络的通信；通过成员单位的前置机管理系统完成各行业的业务管理系统通信；通过外部网络前置机完成与国际金融网络、国内金卡工程等外部网络的通信。数据交换按照建设部有关密钥管理体系的规定，建立一套统一规范的密钥管理系统，以实现一卡通跨行业、跨系统、跨平台的通用。
数据交换中心虽然属于城市一卡通支付与结算系统总体框架的组成部分之一，但并非严格意义上的支付系统，其本身无资金结算能力，而是日结后向各成员银行批量提交清分数据，由成员银行实施净额结算，完成最终支付。数据交换中心同时具有银行对帐、数据清分、信息分析、Internet客户服务和为各成员单位业务管理系统提供一卡通交易信息等方面的功能。
4.2成员银行业务处理系统
成员银行业务处理系统分为两部分：交易支付系统和资金结算中心。该系统直联到数据交换中心，参与交换网络的跨行、跨系统的交易处理及清分。
前端电子交易
一卡通交易前端，指的是分布在银行的网点，成员单位等特约商户的用卡环境，为持卡人提供一卡通的发卡、圈存，圈提，存取现，转帐，查询，商户消费，账单打印，改密码，密码解锁，挂失，解挂，销户，卡启用，及一卡通的予申请，卡管理等金融交易和医保、公交、公交等行业专用的非金融交易功能。
后台业务处理
各成员银行设立前置机和一定数量的电话拨入网络，实时监控、实时转发城市一卡通发卡、消费、充值等交易业务，批量收集和转发一卡通业务数据。并每日把交易数据传送给主机系统进行帐务处理和资金的结算。
资金结算中心
成员银行结算中心是城市一卡通支付与结算体系的主体，主要分为实时性的大额逐笔与非实时性的小额批量两类支付与结算方式。数据交换中心处理的卡交易，网上处理较大额支付系统实时性更强；而在结算方式上，数据交换中心作为成员银行结算中心的客户，在交易日结后以电子、纸张或磁介质形式向成员银行结算中心提交清分数据，由成员银行结算中心自上而下发起结算，采用类似于小额支付系统的日终净额结算方式。
4.3成员单位（资源方）业务处理系统
成员单位业务处理系统分为两部分：前台交易系统和后台管理系统。
前台交易系统
各成员单位营业柜台（如发卡网点、公共汽车、定点医疗单位等）是为客户提供持卡交易服务的场所。对使用城市一卡通的每笔交易信息进行实时控制，完成对交易的记录，日终以批量处理方式上传数据交换中心。此外还接受黑名单的下传，从而实现对交易过程的控制。各发卡网点通过专线或电话线进入数据交换中心，由数据交换中心对交易类型（金融交易和非金融交易）进行清分，并通过银行进行资金结算。
后台管理系统
系统主要负责管理本机构发行的一卡通业务，实时查询、统计和打印发卡数据信息，跟踪每笔交易记录，生成结算数据，向所属机构发布管理信息、网点设置信息和编号，监督管理下属机构的运作情况，并形成各类经营管理报表提供决策。
4.4发卡中心系统
发卡系统
发卡系统的功能主要是完成用户卡和PSAM卡文件结构的建立以及密钥的导入工作等。发卡系统应该是满足相关领域应用规范的IC卡密钥多级管理体制的成员机构发卡系统。具体内容包括：PSAM卡的一次发卡、PSAM卡的二次发卡和PSAM卡的启用，用户卡的发卡和启用。
密钥管理系统
密钥管理系统最初是中国人民银行为解决金融交易安全和完成异地跨行交易而建立的，主要功能是在充分保证密钥安全性的基础上，支持IC卡联合试点密钥的生成、导出、注入、备份、恢复、更新、服务等功能，实现密钥的安全管理。
结束语
在桂林城市一卡通系统一期工程中，使用的是双界面CPU卡，在发卡阶段使用卡片的接触部分建立文件结构和倒入密钥，在银行网点、圈存设备、定点医疗机构等要求交易安全性高于交易速度的消费点使用卡片接触部分完成交易处理，而在公共交通售票系统中使用卡片的非接触部分，通过车载射频读卡器读写卡片中的信息完成交易的处理过程，射频识别技术的交易速度快、读写距离远等特点发挥了很大的作用，在公用事业收费和旅游景点收费系统，从而为桂林城市一卡通添加更多的功能，实现一卡多用、一卡通用的目标。