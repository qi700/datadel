政府异地备份建设经验谈
众所周知，集中建设备份中心的目的很明确，就是要本着少花钱多办事的原则，为全区域的各政府部门建立起一个共享的灾备平台，统一规划，节省投资。灾备中心共享化的确是一种符合政府信息化需求特点的建设趋势，即建成后将用一个灾备中心同时满足多个政府部门的数据备份保护需求。同时，灾备是一项长效的、专业的系统工程，只有专业的管理和服务才能将产品、技术、运维、演练有机结合，才能真正将灾备落到实处。然而各政府部门用户普遍“人少事多”，在规划和建设灾难备份和恢复系统时，经常面临着许多同样的困惑，例如对灾难恢复建设不熟悉、没经验，管理、技术、运维都面临调整、垂直行业无标准或标准混乱;投资保护和长远规划难于兼顾等等。因此，集中建立一个共享的灾备平台，实现专业人员集中管理，将灾备作为一种既统一管理、又可自主选择灾备级别的服务提供给各委办局使用，能从根本上避免“建而不管，备未无患”的尴尬，同时因为采用共享式灾备，可以极大的节约灾备中心的软硬件投入。
可见，建立集中的政府灾备中心，确实是一件有很大价值的好事儿。
但另一方面，随着部份地区的探索和实践，也发现政府异地灾备份中心与普遍意义的数据(灾备)中心在建设上存在着较大差异，建设和管理还存在很多难处。由区域政府牵头来建设灾备份中心，其核心难度在于：各条块、各委办局IT系统建设程度不一，数据存储形式复杂。因此如何搭建起一个同时满足各种不同复杂需求的统一灾备中心，并如何将灾备作为一种统一的、可选择的服务提供给各委办局使用，的确是一件非常“棘手”的任务。
上海浪擎信息科技有限公司是一家专注于存储、备份与容灾领域解决方案研发的公司，建设了多个大型的政府异地备份系统。2005年起至今，浪擎科技承建了上海市党委系统网(公务网)接入单位异地备份系统的多期工程，诸多接入单位通过该系统将各类业务数据集中备份或镜像至数据多个机房;2008年，公司又参于建设了杭州市政府灾备中心(二期)的建设，实现了各备份单位的加密备份和中心机房的集中备份管理;承建了上海市法院行业电子档案海量数据异地备份系统。
结合多年的实际经验，浪擎科技对政府异地备份建设进行了一个小小的总结：
1 政府异地备份建设经验总结
政府异地备份一般由灾备中心、委办局单位、备份系统、管理制度等组成。浪擎科技的建设经验证明，由于多家单位牵涉其中，在灾备系统建设之初就应理顺各方关系，协调好责任与义务。
1.1 灾备中心和委办局各自职责的划分
明确灾备中心和委办局单位维护人员的职责划分：灾备中心监控备份作业的运行状态及运行结果;②生产中心划分每天或每周备份任务的时间安排，监控备份作业的执行结果。
当然上述两种工作职责是政府灾备系统中工作角色的划分，对于地市级别的政府灾备而言，例如非省会城市政府灾备，这两种角色也可以完全由灾备中心来统一负责。
1.2 灾备传输网络的选择
目前政府电子政务网络由政务内网和政务外网构成。政府灾备可以选择电子政务网络作为灾备的基础网络，对于涉密的系统可经由政务内网传输;对于非涉密的系统可经由政务外网传输。数据量特别大的单位可架设专网接入灾备中心。
1.3 灾备系统的日常管理
确保灾备系统的正常运行，日常巡检维护是十分必要的。日常维护管理制度：定期现场巡检服务;定期份/还原测试;定期检查各系统运行状况，包括备份系统、存储、服务器等，检查完毕编制维护报告;巡检过程中发现的异常状况以书面或电子邮件报告相关公司、相关人员。
1.4 应急恢复演练与预案
灾备的演练计划和手段用来验证生产中心和灾备中心的数据一致性，测试灾备中心是否具有业务接管的必要条件。因此，制定灾备系统的演练和测试计划是非常必要的。定时测试或演练计划：制定全面的测试用例和恢复计划;逐个模块测试，逐个应用进行接管验证。突发性演练：制定了全面的恢复计划和演练后，需要进行突发性的测试。
演练对于提高灾备管理团队的恢复经验和协作能力以及确保灾难恢复计划的可行性是至关重要的。所有的演练结果都要进行评估、记录、并且生成到容灾流程里。
2 政府异地备份建设需设计的功能
2.1 两级监管体系
政府异地备份建设中灾备中心和各委办局单位，在系统中有不同职责和定位，灾备中心提供通用存储服务，负责存储管理和全局备份作业监控。各委办局单位负责自己单位的备份事务管理、备份作业监控和存储空间消耗状况。所以政府异地备份应提供两级管理和监控功能，方便维护和管理，保障系统稳定运行。
灾备中心进行全局管理，负责全局的管理、运营、维护、测试、演练等工作，并和委办局单位制定相应的灾难应急预案。全局系统管理维护工作包括：用户管理、备份策略与计划管理、存储管理、存储策略管理、作业监控、作业报表、代理管理、加密管理等。
各委办局单位管理，负责本单位备份事务管理，规划本单位需要备份的业务主机，制定备份策略和备份计划。
2.2 以委办局单位作为一个用户的管理方式
每个委办局单位作为系统的一个用户，拥有独立的存储、备份策略、计划、帐号等资源。拥有限额的、虚拟的、逻辑独立的存储。在同一应用单位里允许有多个应用备份;委办局单位也可根据应用特点选择不同备份服务类型。
灾备中心为每个用户提供虚拟存储池，无需用户参与管理。存储对用户而言是虚拟的、透明的。
根据每个用户的实际业务备份需求，分配不同的存储限额。
2.3 共享式存储
统一存储管理体现在：浪擎科技的备份系统采用存储池管理所有存储设备。各种品牌的存储设备首先被操作系统识别和映射成磁盘设备，然后将此磁盘或磁盘上的目录添加到存储池即可存储备份数据。存储池采用通用的Web技术管理所有设备，以一个统一的平台实现多种数据管理操作，从而节省用户的总体成本开销。
共享式存储体现在：每个用户分配定额的、虚拟的存储空间。虚拟存储空间可由多个存储设备或目录组成。一个物理磁盘阵列可划分为多个逻辑磁盘或卷;在一个磁盘上可划分多个存储目录添加到存储池中，这些存储目录各自被不同的用户占用。一个存储目录或存储设备与用户是一一对应的。按照上述方法实现多个用户共享同一物理存储设备，并且相互不干扰，数据完全独立。
2.4 三位一体安全
三位一体的安全体系包括身份认证、传输、存储三方面。备份系统将每个用户单位作为系统的用户。用户之间是独立的，没有任何关联关系。
可依据实际用户需求，调整相应的安全保障措施。在以往实施的案例中，可为用户提供加密存储、加密传输以及采用基于用户/口令的身份认证，从这三方面构建整个系统的安全基础。
2.5 统一备份功能
政府部门随着业务多元化，多种业务应用系统并存，产生了多样性的备份需求。
政府异地备份建设需统一的数据管理解决方案。浪擎科技的备份系统采用专业的备份接口，根据系统管理员定义的备份策略按时间点触发备份，备份系统获取到业务系统的备份数据，然后传输给备份服务器并存储到磁盘阵列。这样每间隔一个备份周期进行备份，形成完整的备份序列和恢复点，实现对业务系统的保护。数据备份支持全量、增量、差异备份类型。