区块链贸易融资应用探索
2018年来，随着区块链的热度潮涨潮落，币圈几番浮沉，链圈的生态也已逐渐成型。所谓币圈是最为大众所熟知的区块链，通过发行虚拟币、通证实现业务功能，全民可参与，彼此匿名平等。链圈则是利用区块链技术针对性解决实际问题，通常参与者需要一定门槛准入，在圈内互相高可信，技术壁垒相对更高。而贸易融资则是区块链在链圈最适配的实施领域之一。
贸易融资与区块链的结合
贸易融资业务指银行为国内和跨境贸易提供的包括结算、融资、信用担保、保值避险等综合金融服务，包含福费廷、信用证等相关业务。在业务整个流转过程中，涉及银行、买卖双方、供应商、物流公司、监管机构等多方交易实体，互相间取得信任代价较大；流程繁杂，业务的每一个步骤都可能多方确认，交易周期长；每个环节都需要大量人力物力，“一处失误推倒重来”使效率难保。
区块链的公开透明、不可篡改、分布式账本的技术特性，正好完美应用于贸易融资领域，解决了同业机构的互联互通，实现全业务流程信息的共享，从而保障了业务的连续性，做到风险的可控。而福费廷、信用证、保理与再保理等也是目前区块链在贸易融资领域应用最迅速的场景。利用区块链的特点，有效协助推进了贸易金融的线上化和智能化发展：在买方、卖方、银行等多方参与的区块链贸易融资平台上，银行通过“朋友圈”式管理，可以更高效地通过既往交易信息评估授信；单据的全电子化可以极大提高业务的流转效率，简化业务流程，摒弃线下繁冗工作，提高用户体验；银行集成融资、存贷款、仓储物流等信息的一体化，可以保护市场、规避市场风险，同时意味着创新性金融产品的更多可能。
国内区块链贸易融资“链圈”
在过去近两年中，区块链在贸易融资领域的应用频繁在政企端涌现，2018年初，人行数字票据交易平台上线，外管局跨境业务区块链服务平台也预计今年投产，而商业银行依托金融科技的发展，也迅速意识到区块链特性与贸易融资的高度匹配，成为新技术的弄潮儿。与此同时，工商银行自建区块链系统于2018年12月上线，招商银行的区块链跨境清算平台，在2018年也已完成数万笔交易。
贸易融资区块链建设的阶段性成果
建设银行于2017年底开始，在区块链贸易融资领域的业务探索和试点，2018年初在业界率先投产“区块链贸易融资平台”，至今已先后上线了信用证、福费廷、国际保理、再保理等功能，投产以来交易金额已突破4000亿元，充分显现了区块链技术在贸易融资领域的适配和潜力。同时，建设银行持续发力，一方面致力于全贸易生态的建设：物流金融、海关等在建待建项目，即将打通与仓储、物流、海关的连接，打造全贸易生态圈全业务流程信息的互通互信共享；一方面与中银协合作，联合国开行、工行、农行以及12家中小银行和企业共同开发“中国贸易融资跨行区块链平台”，监管接入参与，共同繁荣同业生态。
区块链贸易融资应用推广的同时，建设银行在技术研发方面同样深耕精作，对框架底层服务进行了改进和封装，解决了一系列实施中遇到的问题。
1.数据安全和隐私控制。区块链去中心化特性，在解决贸易融资领域存在效率低、单据造假等痛点的同时，因为其账本共享的特点，参与方普遍存在着客户数据泄漏、交易信息被竞争对手获取的疑虑。建行区块链系统通过用户证书申请，加盟注册等联盟链准入流程建立起了一套完整的用户和机构证书体系，通过对落链数据进行公共数据结构抽象，并基于用户机构证书电子保险箱系统对数据内容进行对称/非对称混合加解密，从而实现落链数据的交易相关方精确访问权限控制。第三方机构（包括系统运维方）均无法解密和查看数据。
2.数据备份/容灾。区块链底层账本通过P2P协议实现自动同步，对应用透明，每个账本都是全量数据，无需额外灾备系统建设，单个节点宕机不影响系统运行，多个背书和记账节点部署情况下为多活模式，共同维护账本数据，多个普通节点部署情况下为主备模式，接受主节点同步过来的数据。
3.交易历史追溯。每笔交易落链后生成唯一交易序号TxID,通过TxID可以对单个交易进行溯源，同时通过链上资产ID可以进行资产转移和分裂历史进行追溯，可视化地展现权益扭转历史。
4.链外存储。大文件（影像/附件）不上链，进行链外存储，通过Hash值关联链上交易，并确保链下数据的不可篡改性。
5.可扩展性。节点的加入不影响整体的效率。按照业务产品维度，贸易融资联盟链数据存储结构设计成多通道多账本的体系，每个通道中都有一个完全独立的账本，通道内节点都保存一份相同的数据，同类型业务在同一个通道上运行，通道间业务数据互相隔离互不影响。每个加盟节点仅访问业务相关的通道，从而控制了各业务通道内加盟节点的数量，业务的增加可以通过通道的扩展来达成，从而保障了整个联盟业务生态的可扩展。
6.基于有限状态机FSM的业务逻辑智能合约开发。上链资产通常是电子化后的线下资产，比如发票。链上资产的交易和转让等事件会导致资产状态的变化，根据业务行为抽象出一套独立的状态机，由业务人员可视化画出UML模型，系统导入模型后智能合约逻辑根据当前资产状态+事件自动计算目标资产状态，同时根据目标状态下的交易相关方可见性实现自动加解密和隐私控制。保理市场的票据转让状态机详见图1。
图1 保理市场的票据转让状态机
7.优化性能。区块链网络下影响性能的主要因素包括：背书策略的复杂度、区块链通信成本、智能合约的复杂度、交易频率。其中背书策略复杂度、智能合约复杂度、交易频率三者正关联。将业务进行一定规则进行划分，并控制业务通道内节点数量，则可以对以上几个方面都有所改进。
在贸易融资区块链，参与的机构或公司是基于协议的，即授信网络。在此基础上，可以看到其应用的场景有两类：一类参与方是两方的，一类是多方的。比如，支付结算业务一般是点对点，参与方是两方的；物流金融业务则是多方的，企业将存放在仓储的货物质押，向银行申请融资，银行为了控制质押货物风险，则需要从仓储确认货物的有效性，从海关获取贸易背景信息来确认交易的真实性。对以上两类业务，为了控制通道内加盟参与交易节点数量，在将业务划分不同通道的基础上，需要将加盟节点角色，进行进一步的分类、分层处理。提供公共服务的角色，比如银行、监管机构，以独立节点加盟模式加入，具备独立记账和读取权限；调用公共服务参与交易的角色，比如企业、仓储方，以代理节点的模式加盟，即同类用户共享一个节点来完成记账和信息获取的能力，一方面无需单独配备记账节点所需硬件，降低了企业、仓储方的加盟门槛，另一方面也降低了通道内业务数据同步共享的成本，提升了业务通道的处理效率。
区块链发展亟待解决的问题
建行区块链项目的实施，取得了一定的成果，积累了一定的经验，同时也发现自身乃至国内贸易融资区块链生态，存在一些问题待完善。
1.联盟连通性问题。实施过程中发现，各大机构目前普遍自建了区块链试点，也积累了不少自己的交易数据和信息。然而贸易融资目的是互通，如果仅是每家机构自己内部使用，区块链意义其实并不显著。那么如何打通不同机构的区块链，又成了目前新的问题。虽然有跨链方案，但是如何做到真正行内的互通又牵扯到各方利益需要协调。
从区块链在商业领域的应用前景来看，终极状态可能是国家级行业监管机构牵头，各大联盟链间通过跨链智能合约调用，形成联盟级区块链生态圈。
2.整体性能瓶颈问题。每笔交易落链都需要参与共识的过程，随着背书和记账节点越多，共识时间越长，性能越差，另外由于隐私控制说带来的加解密也导致交易时间更长，相对应传统集中式系统，TPS相差较大。
3.数据容量&清理机制问题。每个链都是全量账本数据，从创世区块开始，链式结构数据不可更改，随着时间的变化，单机数据容量成为瓶颈，不能直接对链上数据进行清理，需要创建新链和分链，通过跨链实现多账本数据贡献。
4.分布式系统事务一致性&运维。多数据源（链上/链下）分布式事务难以保证，落链数据不可技术冲正，需要业务补充机制弥补，同时智能合约开发部署和分布式系统的运维相对传统集中式系统要复杂很多。
展望未来
“连接比拥有更重要，协同比分享更有价值”。未来区块链在贸易融资领域将大致经历以下四个阶段（如图2所示）：银行间同业协同联盟、企业间贸易行为为主的区块链贸易融资联盟、银企融合的区块链贸易融资联盟、区块链贸易融资平台生态系统。
图2 未来区块链在贸易融资领域的应用
银行间同业协同区块链贸易融资：打通银行间的信息孤岛，实现以信用证、保理同业等为代表的金融同业协同平台。
企业间贸易行为为主的区块链贸易融资：打通企业间的信息孤岛，实现物流的跨主体循环。连接贸易上下游企业与金融机构，构建可信的贸易融资环境。
银企融合的区块链贸易融资：打通企业的财务职能与银行的金融职能，实现银企资源的高效共享。银行提高效率、降低风险和成本；企业解决“融资难、融资贵”问题，资金在企业间分配效率提升。引入大数据、云计算、人工智能等技术，实现企业资产与金融产品的智能撮配，并配套各金融产品智能合约，依赖区块链连接协同能力，实现贷前、贷中、贷后链上协同管理，银行、政府真实嵌入式管控。
区块链贸易融资平台生态系统：物流、资金流、商流、信息流交汇在区块链。外部生态功能的打通：政府、海关、监管；区块链重塑贸易融资生态，为各个贸易融资主体提供区块链平台信息，跨越传统贸易融资的缺陷和不足，解决现实痛点，形成角色丰富、功能完备的基于区块链基础信用平台的生态系统。
近阶段战略目标
目前整个区块链贸易融资圈，还处于自建联盟跑马圈地的粗放发展阶段，可能矛盾暂不突出。但是预计在1~2年内就会形成以各大行机构区块链平台为核心，中小行机构参与治理的几大区块链联盟，利益纷争也会随之而来。如何协调和沟通相关方，真正达到多联盟内信息互联互通，交易随处可达，其实是一个非技术问题。
区块链在贸易融资领域的应用，不仅是技术层面的革新，也是业务整个流程的进化，需要整个行业用更高的视角来看待。在发展过程中，参与单位应该更加注重场景和链条完整性，更多着眼于生态和标准的建设，而不局限于单个企业或者自己的联盟；对于各联盟间乃至和企业端的合作，也应该在允许的范围内尽量开放探索，才能在新领域中碰撞融合出新的模式。
结束语
所有金融交易的基础就是信任。从以前熟人关系社会，到各种风控体系，再到结合区块链这一新的信任构建工具。一个包含资商流、物流、资金流、信用流，更加立体、完整的“四流合一”贸易链条呈现眼前。所有的金融交易模式在未来也一定会被重构：资产和交易的追踪溯源视图，完整刻画企业的贸易背景，为企业和银行提供信息整合服务。通过物联网技术，解决链上资产与实物资产的有效映射，实现商品资产数字化；利用大数据与AI技术实现在线风控，构建产业上下游基于“价值+信用”的新型信用模型。
区块链、物联网、大数据、人工智能等现代信息技术与贸易融资业务的有机结合，有望打破业务发展瓶颈，填补行业空白，建立数据驱动的新金融，实现全产业链整体“降本增效”的发展目标，并将实惠和资源切实带给小微企业，更好地实现普惠金融。
作者单位：建信金融科技有限责任公司