云计算中存储虚拟化技术浅析
随着大数据时代的到来，传统的存储系统已经满足不了企业用户的数据存储需要，急需进行变革。存储虚拟化技术由此应运而生。本文主要阐述了目前云计算技术实现中最典型的三种存储虚拟化技术，分别对它们的优缺点进行了分析，并对存储虚拟化技术的应用进行了探究。1 云计算    随着企业的成长，业务和应用不断增加，IT 系统规模日益庞大，带来高能耗、数据中心空间紧张、IT 系统总体拥有成本过高等问题；而现有服务器、存储系统等设备又没有充分被利用起来，资源极度浪费；IT基础架构对业务需求反映不够灵活，不能有效的调配系统资源适应业务需求。因此，企业需要建立一种可以降低成本、具有智能化和安全特性、并能够与当前的业务环境相适应的灵活、动态的基础设施和应用环境，以更为快速的响应业务环境的变化，并且降低数据中心的运营成本。“云计算”作为一种模式和思想进入到人们的视野。    云计算是以数据为中心的一种数据密集型的超级计算，在数据存储、数据管理、编程模式、并发控制、系统管理等方面具有自身独特的技术。云计算的出现，改变了信息服务的提供方式。“云”中的资源在使用者看来是可以无限扩张的，并且可以及时获取，随时扩展或缩小，按需使用。而实际上，它并不是一个单独的服务，而是一个服务集合。它以前所未有的规模为使用者提供IT 服务能力。云计算研究的重点是网络计算，实际上它的本质是计算机的虚拟化。2 虚拟化技术　　虚拟化技术是一种调配计算资源的方法， 它将应用系统的不同层面，包括硬件、软件、数据、网络、存储等一一隔离开来，从而打破数据中心、服务器、存储、网络、数据和应用中的物理设备之间的划分，实现架构动态化，并达到集中管理和动态使用物理资源及虚拟资源，以提高系统结构的弹性和灵活性，降低成本、改进服务、减少管理风险等目的。云环境中，虚拟化技术按系统层级划分，可以分为：服务器虚拟化、存储虚拟化、网络虚拟化、应用虚拟化以及客户端虚拟化。不同种类的虚拟化技术致力于从不同的角度解决不同的系统性能问题。虚拟化技术加入到云计算中，简化了资源管理的复杂度，提高了资源利用率。对于用户而言，可以通过互联网随时获得自己需要的服务，可以自由取用，按需付费。存储虚拟化技术作为虚拟化的重要技术之一，特别是在数据安全性和完整性要求更高的时代， 存储系统变得尤为重要，存储虚拟化技术得到了较快的发展和应用。3 存储虚拟化技术　　随着大数据时代的到来，数据量的存储需求迅速增长，存储技术越来越受到业界关注，使越来越多的企业把数据存储作为重要项目来管理，从而带来存储管理技术的快速发展。然而，存储设备的差异性，使高效管理这些设备面临诸多困难。对存储管理而言，虚拟化是一种具有广阔前景的解决方案。存储虚拟化技术解决了存储设备管理效率的问题，不同类型的存储资源整合问题，异构存储系统的兼容性、扩展性、可靠性、容错容灾等问题。　　SNIA（存储网络工业协会）对存储虚拟化的定义：通过对存储（子）系统或存储服务的内部功能进行抽象、隐藏或隔离，使存储或数据的管理应用、服务器、网络资源的管理分离，从而实现应用和网络的独立管理。　　存储虚拟化技术是计算机虚拟化技术的重要结构，它的思想是将资源的逻辑映像与物理存储分开， 为系统和管理员提供一幅简化、无缝的资源虚拟视图。对于用户来说，虚拟化的存储资源就像是一个巨大的“存储池”，看不到具体的磁盘，也不关心自己的数据在具体的哪个存储设备中。存储虚拟化技术具有提高动态适应能力。它将存储资源统一集中到一个大容量的资源池，无需中断应用即可改变存储系统和实现数据移动，对存储系统能够实现单点统一管理。　　存储虚拟化可在三个层次上实现，分别是：基于主机的虚拟化、基于存储设备的虚拟化、基于网络的虚拟化。它有两种实现方式，分别是带内虚拟化、带外虚拟化。实现的结果有：块虚拟化，磁盘虚拟化，磁带、磁带驱动器、磁带库虚拟化，文件系统虚拟化，文件/记录虚拟化。如图1为存储虚拟化实现模式。  图1 存储虚拟化实现模式  （1）基于主机的存储虚拟化　　基于主机的的存储虚拟化一般是由操作系统下的逻辑卷管理软件完成，不同操作系统的逻辑卷管理软件也不相同。这种实现方式使服务器的存储空间可以跨越多个异构的磁盘阵列，常用于在不同磁盘阵列之间做数据镜像保护。但它也有缺点：第一，占用主机资源，降低应用性能；第二，存在操作系统和应用的兼容性问题；第三，导致主机升级、维护和扩展非常复杂，而且容易造成系统不稳定；第四，需要复杂的数据迁移过程， 会影响业务连续性。常见的产品有SymantecVeritas VolumeManager。（2）基于存储设备的存储虚拟化　　基于存储设备的存储虚拟化是在存储控制器上添加虚拟化功能，常见于中高端存储设备。它的目的是面向用户的应用进行优化，可以把用户不同的存储系统融合成单一的平台，解决数据管理难题，并通过分级存储实现信息的生命周期管理，从而进一步优化应用环境。这种技术主要用在同一存储设备内部， 进行数据保护和数据迁移。它的优势是与主机无关，不占用主机资源，数据管理功能丰富。但也存在缺点：第一，一般只能实现对本设备内磁盘的虚拟化；第二，不同厂商的数据管理功能不能互操作；第三，多套存储设备需配置多套数据管理软件，成本较高。常见的产品有H3C IX/EX 系列、HP EVA、HDS TagmaStor、SUN 6920 系列。（3）基于网络的存储虚拟化　　基于网络的存储虚拟化是通过在存储区域网（SAN）中添加虚拟化引擎实现的。主要用于异构存储系统的整合和统一数据管理。它的优势是：第一，与主机无关，不占用主机资源；第二，能够支持异构主机、异构存储设备；第三，能使不同存储设备的数据管理功能统一；第四，可以构建统一管理平台，可扩展性好。但也存在缺点：第一，部分厂商数据管理功能弱，难以达到虚拟化统一数据管理的目的；第二，部分厂商产品成熟度较低，仍然存在和不同存储和主机的兼容性问题。常见产品有：H3C IV 系列、IBM SVC、EMC VPLEX、NetApp GFiler 系列。　　很多人关注虚拟化在哪里部署，到底是基于主机，基于网络还是基于存储。当然所有这些选择都有各自的优点和缺点。最主要的是让存储虚拟化合并异质存储系统，将这些系统合并到一个公共的存储池并进行共同的管理和保护。存储虚拟化的目标是让企业和用户有向不同厂商选择存储阵列的能力，向他们提供各种企业级功能，比如动态配置和动态数据迁移等。在企业用户应用存储虚拟化技术时，需要做好几项工作：第一，规划好企业的存储虚拟化策略；第二，将企业业务数据进行合理分类规划；第三，了解数据生命周期；第四，规划好存储层次以及服务级别；第五，考虑安全性和兼容性问题。尽可能的实现存储虚拟化的最大效用，更好的节约资源，简化管理。4 存储虚拟化技术的应用　　虚拟化技术已经在存储领域得到广泛的应用。各个存储设备厂商也陆续推出了自己的虚拟化存储产品。存储虚拟化技术在各行各业中已经开始了大规模应用。这些应用包括数据中心、电信行业、银行证券保险行业、政府信息系统等。　　存储技术不断的发展，用户对于数据的需求增加，而存储虚拟化并没有完全普及。原因主要是对数据安全问题的考虑；其次是忽略了我国庞大的中小企业需求；再就是价格问题，很多中小型企业采用存储虚拟化技术方案投入的成本可能比传统的存储管理成本更高。但相信在不久的将来， 虚拟存储技术在克服了面临的困难后，会更广泛的得到应用， 从而有效实现企业和用户的存储系统效率提高，系统安全稳定的运行，总体拥有成本减少，投资回报得到增加等。5 结语　　虽然存储虚拟化技术已经得到了较大的发展，但对于企业和用户而言，存储虚拟化并不是万能的，企业存储管理人员需要把自己现有的存储资源、存储技术和存储虚拟化相关联，找到最适合自己企业的存储策略才是最为重要的，从而更好的利用资源、节约成本、简化存储管理。　　在大数据云计算环境中，数据在哪里存储，数据都有谁访问，数据是否安全，这些问题引起了人们的思考，数据安全问题变得尤为重要。在虚拟存储中数据可能面临着存取权限、数据备份和销毁等风险，这是在云计算应用中需要进一步解决的存储安全问题。