深入分析云存储中虚拟化技术构成及应用
与传统存储相比，虚拟化存储的优点主要体现在：磁盘利用率高，传统存储技术的磁盘利用率一般只有30-70%，而采用虚拟化技术后的磁盘利用率高达70-90%；存储灵活，可以适应不同厂商、不同类别的异构存储平台，为存储资源管理提供了更好的灵活性。    与传统存储相比，虚拟化存储的优点主要体现在：磁盘利用率高，传统存储技术的磁盘利用率一般只有30-70%，而采用虚拟化技术后的磁盘利用率高达70-90%；存储灵活，可以适应不同厂商、不同类别的异构存储平台，为存储资源管理提供了更好的灵活性；管理方便，提供了一个大容量存储系统集中管理的手段，避免了由于存储设备扩充所带来的管理方面的麻烦；性能更好，虚拟化存储系统可以很好地进行负载均衡，把每一次数据访问所需的带宽合理地分配到各个存储模块上，提高了系统的整体访问带宽。　　虚拟化存储有多种分类方法，从大的方面可以分为：根据在I/O路径中实现虚拟化的位置不同进行分类；根据控制路径和数据路径的不同进行分类。根据在I/O路径中实现虚拟化的位置不同，虚拟化存储可以分为主机的虚拟存储、网络的虚拟存储、存储设备的虚拟存储。根据控制路径和数据路径的不同，虚拟化存储分为对称虚拟化与不对称虚拟化。　　虚拟化存储的系统构成　　云存储中的一种典型存储方式为分布式存储。在这种方式中，一般采用带外虚拟化的方式管理存储设备，元数据管理和数据传输都是通过IP网络来完成。这种虚拟化存储系统主要有四类不同的存储设备。    客户端：　　客户端向外为客户提供各种应用服务，如万维网服务、数据库、文件服务、科学计算等。客户端上运行存储代理软件，提供网络虚拟设备供应用程序读写访问。　　配置管理服务器：　　配置管理服务器用来进行系统的配置和管理。通过Internet、Telnet或其它接口登陆云存储平台，以远程的方式配置和管理整个存储系统。　　元数据服务器：　　云存储系统的元数据服务器(MDS)管理着整个系统的元数据和对象数据的布局信息，负责系统的资源分配和网络虚拟磁盘的地址映射。在MDS上部署的全局虚拟化存储管理软件和集群管理软件可管理整个存储系统的配置和运行。另外，MDS通过冗余管理软件来实现普通存储节点之间的数据冗余关系。　　对象存储节点：　　每个存储节点都是独立的存储设备，负责对象数据的存储、备份、迁移和恢复，并负责监控其他存储设备的运行状况和资源情况。同时，存储节点上运行着虚拟化存储管理软件，并存储了应用程序所需的数据。　　虚拟化存储的三层模型　　根据云存储系统的构成和特点，可将虚拟化存储的模型分为三层：物理设备虚拟化层、存储节点虚拟化层、存储区域网络虚拟化层。　　三层虚拟化存储模型大大降低了存储管理的复杂度，有效地封装了底层存储设备的复杂性和多样性，使系统具备了更好的扩展性和灵活性。用户只需将存储设备添加到存储池中并进行简单配置，就可以创建虚拟卷，而不必关注系统中单个设备的物理存储容量和存储介质的属性，从而实现统一的存储管理。　　物理设备虚拟化层：　　主要用来进行数据块级别的资源分配和管理，利用底层物理设备创建一个连续的逻辑地址空间，即存储池。根据物理设备的属性和用户的需求，存储池可以有多个不同的数据属性，例如读写特征、性能权重和可靠性等级。按需分配的存储设备作为一个逻辑卷管理器，可以从存储池中分配逻辑卷，动态地分配存储资源，并管理数据块的映射和转发。　　存储节点虚拟化层：　　可实现存储节点内部多个存储池之间的资源分配和管理，将一个或者多个按需分配的存储池整合为在存储节点范围内的统一的虚拟存储池。这个虚拟化层由存储节点虚拟模块在存储节点内部实现，对下管理按需分配的存储设备，对上支持存储区域网络虚拟化层。　　存储区域网络虚拟化层：　　可实现存储节点之间的资源分配和管理，集中地管理所有存储设备上的存储池，以组成一个统一的虚拟存储池。这个虚拟化层由虚拟存储管理模块在虚拟存储管理服务器上实现，以带外虚拟化方式管理虚拟存储系统的资源分配，为虚拟磁盘管理提供地址映射、查询等服务。　　广泛的应用　　虚拟化技术已经在存储领域得到广泛的应用。　　各个存储设备厂商纷纷推出了自己的虚拟化存储产品。令人瞩目的是，华为提供了企业级虚拟化存储服务，推出了针对云计算的虚拟机和网络存储服务器的虚拟机，以及VTL虚拟带库和VIS产品。同时，华为在云存储系统中也大量应用了虚拟化技术，实现了元数据服务器的虚拟化VMDS，对象存储服务器的虚拟化VOSN，以及数据容器的虚拟化，等等。　　虚拟化存储在各种行业中已经开始了大规模应用。这些应用包括：　　数据中心：应用虚拟化技术提供计算和存储服务中心、网络管理中心、灾难恢复中心、IT资源租赁中心等服务。　　电信行业：随着产业的发展，电信行业面临两方面的挑战，一方面降低IT架构的成本，另一方面提高IT架构的可用性。虚拟化技术正是解决这一问题有效办法。　　银行证券保险行业：利用虚拟化进行容灾，采取“两地三中心”方案，即生产中心、同城灾备中心、异地灾备中心。同城灾备中心负责一般性灾难的防范，异地灾备中心用来防范大范围的灾难。利用虚拟化技术，可以在统一的虚拟化基础架构中，实现跨数据中心的虚拟化管理。　　政府信息系统：政府数据存储系统的建设正受到前所未有的重视。系统利用先进的存储虚拟化技术，建立统一、标准、共享的数据资源存储平台，能够有效地管理庞大、繁多、复杂的数据及相关的设备，提高资源利用率，并建立起全面的数据安全保障体系。