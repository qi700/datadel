浅谈虚拟化与虚拟化IT架构
虚拟化是指计算机元件在虚拟的基础上而不是在真实的基础上运行。虚拟化技术可以扩大硬件的容量,简化软件的重新配置过程。采用虚拟化技术,用户可以节省成本,发挥空间最大利用率。这种把有限的固定的资源根据不同需求进行重新规划以达到最大利用率的思路,在IT领域就叫做虚拟化技术。1、引言    当今企事业信息化系统面临的挑战.企业信息化系统硬件资源利用率普遍很低.个别系统的忙时资源利用率又非常高.系统峰值效应非常明显。另外，各个系统由于应用和安全等方面的不同.均采用了不同的系统和应用程序等.加上硬件方面和存储的架构不同.导致实际操作起来非常繁琐。一旦出现故障.非常难以解决等。系统紧耦合的部署方式以及IT基础设施的环节多。周期长，应用系统的新建和发展又不断带来新的服务器采购需求.机房ups——不问断电源输出负载率已经达到安全输出功率的上限.这些问题困扰着硬件的进一步发展.虚拟化的出现给我们提供了一个新的思路。2、虚拟化的概述    2.1关于数据存储虚拟化    数据是企业最大的财富.任何一家公司都不可掉以轻心。数据一旦丢失，企业失去的不仅是眼前的财富，更可能是未来的发展机会，因此许多企业纷纷引入先进的网络存储技术.希望存储资源像我们日常生活中的水和电一样.成为企业信息系统中的”公用设施”。    存储虚拟化是支持存储公用设施模型的关键技术.是安全可靠的动态存储池，可以适应和包容丰富多样、迅速发展的存储设备，具备为异构服务器和客户机提供服务的能力。因此，虚拟存储系统必须具备下列功能：支持高可用性和高性能SAN存储配置，例如指定主从镜像和空闲驱动器、产生合成式驱动器、联结多个存储子系统构成单一驱动器、实现集中管理以及灵活的存储容量扩充。具有可视性和可管理性，能够在更新和恢复等突发事件发生时及时通知管理员。通过TCMP网络实现n路镜像、快照和异步远程拷贝等数据复制操作。    存储设备的故障或任何在主机和存储子系统路径上的设备(例如路由器、主机适配器或交换机等)故障能够触发自动故障接替。自从存储虚拟化成为热点技术以来.许多供应商开始采用不同的系统结构实现存储虚拟功能.但其完整性和容量水平有所差异。    2.2关于服务器虚拟化    到目前为止.部署服务器虚拟化的主要动机就是整合。服务器虚拟化通过允许在一台物理服务器上运行一个以上的应用程序和操作系统为机构提供了一种控制蔓延的物理服务器环境的方法。虽然服务器虚拟化的这些核心好处对于机构来说目前仍是重要的。但是，减少IT耗电量和冷却需求的能力在采购决策中仍扮演着日益重要的角色。日益上涨的电价、有限的电力资源以及全球的“一切皆绿色”的承诺这些因素已经结合在一起把服务器虚拟化作为一个核心的减少耗电量的IT技术。毫无疑问，服务器虚拟化已经在IT行业刮起了一场风暴。这项技术为显著减少停机时间、增强灵活性、大幅提高硬件利用效率提供了一种经济高效的方式。    通过采用硬件设备的虚拟化，软件版本的标准化，系统管理的集中化，自动化和一体化等手段，建立一个资源共享.服务集中和自动化的动态系统架构把传统的IT系统架构设施改成为一个一服务为中心的运行平台。转变了对资源的利用方式，运行环境可以自动部署和调整资源分配。实现资源随需掌握。对x86架构和unix架构的服务器分别采用不同的虚拟化解决方案.来提升IT基础架构。3、虚拟化IT架构    虚拟化整合阶段。采用虚拟化技术。搭建虚拟化资源池，优化IT架构，将现有的IT软硬件资源安全的。有序的，高效的迁移到虚拟化资源池中。构建企业x86/unix架构服务器虚拟化资源池。建立虚拟化规范。管理制度和流程，满足快速提供服务器的业务需求。构建统一的虚拟化存储资源池，统一管理现有异构存储。IT部门对IT系统进行评估，制定出方案.以IT基础设施虚拟化为基础.构建企业内部的私有云。来优化IT基础架构和提升IT基础效率。在各类虚拟资源池基础上.实现IT资源的统一管理。提高IT服务能力.简化运维管理操作.提高系统运维的效率.最大化的利用现有的软硬件资源，节省软硬件采购方面的资金投入。IT系统架构中基础平台由网络层、主机层、存储层构成，网络层提供数据通讯.虚拟化平台上所有虚拟机要同其他非虚拟化服务器进行通讯，都是通过网络进行的。虚拟化平台内各个物理服务器之间实现相互通讯、HA、以及虚拟机的在线迁移功能都是通过物理网络来实现的。主机层构成虚拟化平台的服务器是由PCSERVER安装了VMWARE虚拟化软件组成的.存储系统采用SAN架构.为虚拟化平台提供存储空间的同时还可以为其他的主机提供其需要的存储空间。虚拟化平台上可以根据应用系统需要，生成虚拟机。对于应用系统来说.每个虚拟机都和一个物理机一样.可以安装操作系统和应用软件，并对外提供服务。    虚拟化平台的设计包括虚拟化平台设计，2vCenter服务器，虚拟化存储平台设计，虚拟化平台网络设计。虚拟化平台中ESXSeryer4是VMware虚拟架构套件的基础组成部分，是动态、自我优化的IT基础结构的基础。ESXServer4是一个强健、经过生产验证的虚拟层.它直接安装在物理服务器的裸机上.将物理服务器上的处理器、内存、存储器和网络资源抽象到多个虚拟机中。ESXSERVER服务器为虚拟化平台提供CPU资源、内存资源。虚拟化软件ESXSERVER也需要安装在物理服务器的本地硬盘上。VMwareESX主机的主要任务通过自身的虚拟层承载上层Guest虚拟机。同时执行vCenter下发的策略任务。拟化存储采用SAN集中存储方式.使用存储系统提供虚拟化所需要的存储空间。划分足够的LUN并挂接到ESXSERVER服务器上，并设置ESXSERVER共享分配的LUN。这样可以将每个虚拟机的文件系统创建在共享的SAN集中存储阵列上。VMwarevSphere的虚拟网络与是虚拟机正常处理业务流量的必要途径。关于虚拟网络与物理网络的衔接问题是直接影响最终虚拟化项目实施的效果。4、未来展望    虚拟化技术设备资源利用率显著提高.机房电力消耗大幅下降.自动化的软硬件部署。缩短了部署时间，集中化的管理.系统易于维护，资源的全局共享，提高系统整体的可用性.又保障了数据的安全性。虚拟化将是一个行业发展的趋势.不管企业愿意不愿意实施虚拟化，包括硬件厂商、软件厂商。在今后硬件和软件发展中肯定是沿着这个趋势去演进的。再过三到五年，整个产业环境可能都变成虚拟化的环境了。