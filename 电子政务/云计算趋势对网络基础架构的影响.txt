云计算趋势对网络基础架构的影响
针对云计算的变革，文章分析云计算发展的几大趋势，阐述适应云计算的关键是要提供高弹性、高扩展性、易管理和开放的网络，并建议未来理想的云计算网络架构应是一个无阻塞、可自愈、即插即用的黑盒网络平台，它可持续演进，并能提供开放的网络业务。　　引言　　2005年Jeffery发布Mapreduce全新计算架构文章，2006年亚马逊推出EC2业务，随后Google首次推出“云计算”概念，到2009年，云计算被主流分析机构认为是战略IT技术之首。云计算成为未来业务提供模式也得到广泛的认同，围绕着云计算的许多新技术创新以及新模式，不断推动云计算从试点和构想阶段，进入到优化和实用阶段。在该阶段，云计算的网络基础架构如何结合新的趋势，更好地支撑云计算从试点到实用阶段的转型，显得尤为关键。　　1 云计算趋势　　1.1 持续整合与优化IT架构，向云计算迁移　　近几年来， 各企业和政府机构都在持续整合和优化其IT架构，目前效果开始显现。以IBM为例，其已将200多个数据中心整合为12个，并利用虚拟化进一步整合资源，减少了93%的软件license费用，通过数据中心和IT架构的整合为IBM带来了41亿美元的效益。再如华为，一直在推动虚拟化以及桌面云的应用，到目前为止已有几百台服务器实施了虚拟化，有效提高了业务提供的可靠性；其上海研究所1万多台PC桌面云的成功应用开始向其它研究所推广，深圳、北京、西安等都规模部署桌面云，有效提高了员工的工作效率，节约了公司的信息化成本。　　与此同时，企业也在积极将其IT业务逐步向云计算平台迁移。根据IDC的报告，2011年有80%的企业应用是在云平台上开发的，到2014年，将有30%的企业应用费用花在云计算供应的业务上。　　影响：由于整合以及虚拟化应用使服务器的密度以及利用率提升，云计算网络将对设备性能和端口密度提出较高要求。　　1.2 云计算业务流量和大数据快速增长　　预计2015年将有150亿个终端和超过30亿用户接入互联网，全球数据中心IP流量年平均增长率为33%；同时2016年数据将增长到4.8ZB。互联网业务爆发式发展，尤其是社交网络、电子商务等快速发展以及移动终端的智能化，推动互联网数字化信息的快速增长，同时企业信息化进程和物联网的兴起也正在推动企业信息的爆发。据IDC预计，2011年全球的信息总量达到1.8ZB，下一个10年，全球存储数据的服务器数量将增加10倍，有待管理的数据量将增加50倍。　　这些猛增的大数据以非结构化数据为主，将成为企业的战略资产，如何低成本有效维护这些数据，以及从数据中发现新的商业机会， 成为企业面临的新问题。以银行为例，每年积累的个人、公司的账户交易和流水信息在逐年增加，而这些数据也是企业的重要资产，企业需要低成本地维护好大量的历史账户信息。目前，部分银行开始采用低成本的Hadoop计算存储架构来处理和维护这些信息，取得了良好经济效果，有效地节约了成本。影响：云计算业务流量的激增，带来了对高性能网络的需求；与此同时，面对数量巨大的大数据处理，业务模式也发生了变化，尤其是Hadoop的低成本软件架构，从评估来看，该种业务架构将更依赖于网络的带宽、可靠性、适当缓存以及信令优先级保证等因素。　　1.3 服务器正在经历由GE向10GE转变的变革期　　2012年3月，占x86服务器市场70%~80%份额的英特尔公司发布了以新一代至强E5处理器为核心的Romley平台。这是一个为云计算而生的服务器平台，带来了包括处理器、芯片组、主板设计和外围扩展在内的全方位解决方案。该服务器采用低功耗和模块化的10GE以太网LOM设备，即主板直接出10GBase-T接口，这样使得服务器在具有更强大的处理能力的同时，也提供更快的互连和更高速的IO，突破了GE时代低速IO的诸多限制，这也将开启10GE服务器时代。　　据IDC预计， 数据中心端口将在2012－2014年之间实现GE与10GE端口数量之间的交叉， 即10GE端口数量超过GE端口数量。随着10GE服务器的推出和成熟商用，云计算数据中心也将进一步提升其计算能力和性能，以实现数据快速和高效的处理。　　影响：随着Intel平台的发布以及Broadcom低功耗10G电口芯片推出，2012年下半年到2013年，大多数最新的高端服务器将向10GE以太网迈进，同时下一个10年将是10GE的时代。　　1.4 计算时代关注开放的生态链　　云计算涉及到云应用、云管理平台、虚拟化平台、分布式存储架构、中间件、服务器、网络、存储等诸多环节，提供端到端解决方案是非常困难的事情，云计算的开放主要通过平台的开源和对外的接口开放，来实现集成与被集成。　　在云平台的开源方面， 最好的一个例子就是OpenStack。该平台良好的扩展性吸引大量的云计算IT公司，自2010年发布以来已经增长到2100个项目成员，来自144家公司；部分企业已推出商用的OpenStack解决方案，据预计，2013年OpenStack将在私有云和公共云领域被规模采用。　　云平台厂商在参与开源项目的同时也积极将各自平台开放出来，为合作伙伴提供更好更完善的合作解决方案。亚马逊推出EC2的同时推出开放的API，日前亚马逊与开源的对手Eucalyptus形成战略联盟，进一步开放API帮助Eucalyptus提供更丰富的EC2业务。再如微软的Hyper-V虚拟化平台，将其Hyperviser层较为完整地开放，其他企业可基于此平台快速地开发特色的虚拟交换机以及虚拟增值业务。　　随着云计算推进， S D N(Software Defined Network, 软件定义网络)也正在被热炒，目前虽然还未有定论，但基本上有两个共识：第一是集中“控制”，这里控制可以是狭义的控制和转发分离，也可以是针对部分业务的集中控制；第二是网络的开放和可编程，即将网络能力进一步开放出来。　　影响：针对网络而言SDN是一个非常好的例子。云计算的网络一方面把网络的能力进一步开放出来，另一方面就是更好地让其他厂商集成自己，并融入到云计算的产业链，为客户提供完善的云计算解决方案。　　2 云计算趋势对网络的影响从以上趋势：如云计算的整合与优化、业务与数据增长、10GE时代到来以及开放等，可以看出业务的不断变革也推动网络的不断变化。由图1可以看出云计算业务变化对网络连接性提出更高的要求。  　　图1 云计算业务变化对网络连接性的影响　　从网络本身来看，随着云计算趋势的推动，以往以园区交换机构建的数据中心网络已经不能适应云计算的发展，因此近两年来，各个厂商也在不断推出自己定义的数据中心交换机，虽然大家的定义是不同的，但有一点比较清晰就是支撑云计算。由此可见，云计算正深远影响着网络的变革，从以上分析可归纳出几个关键影响和需求。　　1) 推动网络的弹性提升。网络的弹性主要有三个方面：一方面是针对计算性能的，如服务器部署的密度，10GE网卡快速增长，服务器虚拟化使服务器性能提升，网络的性能也应该是有弹性的，既可支持高密GE服务器接入，也能支持高密10GE服务器接入，并具有良好的性能可演进性；另一方面是虚拟机迁移应用，针对虚拟机相应的网络相关配置如VLAN 、QoS和安全等，也需要动态迁移而无需人工参与，从而实现网络配置的弹性；最后就是针对多租户的逻辑网络资源快速部署，更好地配合计算资源的灵活供应。因此网络的弹性对于支撑云计算是至关重要的。　　2) 需要简化网络管理运维。云计算数据中心的规模越来越大，且新技术应用(如大二层网络)需要提供丰富的运维手段和工具，以简化网络运维管理；同时，随着云计算资源的快速部署，网络资源也需要自动地快速部署，实现云计算业务的快速供应；最后，服务器虚拟化给网络带来的最大改变就是vSwitch，即虚拟网络，目前与物理网络的管理是割裂的，如何把物理网络和虚拟网络统一管理起来，也是简化网络管理的关键。　　3) 需要开放的网络。云计算网络本质是一个连通的平台，所以开放的网络是非常关键的。首先，作为云计算一种资源的网络，应该为云计算平台所管理，即网络能开放给云计算平台，被其管理和自动化部署；其次，随着服务器虚拟化的应用，网络需要与虚拟化平台更好地结合；最后，网络应该提供开放的平台，根据云计算业务需要增删网络增值业务。通过网络的开放性与云计算、虚拟化平台等很好地融合，形成完整的高效低成本的云计算解决方案，显得尤为关键。　　3 对未来云计算网络架构的几点思考　　弹性网络、易管理网络和开放的网络，这3个需求的提出是适应未来云计算的支撑关键。面对云算的新变化和趋势，许多厂商提出了自己的思路和方案，其中比较典型的有两个：一是把网络看做一台完整设备，即一个核心和多个拉远的线卡，提供高性能、完全的流量负载均衡和真正集中管理控制的网络平台，最新实现由于技术问题无法克服，不得不退而求其次，放弃理想平台的部分思路；另一个是重新定义网络转发架构，并完全开放网络的能力。从当前来看，这两种方式都存在致命的缺陷，并增加了网络的复杂度。　　笔者认为理想的云计算网络架构如下，假定数据中心网络是一个黑盒，首先它应：无阻塞，保证点到点之间性能是等同的；可自愈，无需任何外部部件参与，网络可以提供和保持基本连通能力；即插即用，任意网络部件插入即可使用。这样的网络就是基本网络和连接的平台，提供一个物理的网络连接的服务。　　其次，它是一个持续演进的弹性平台，应具有：性能可演进，满足10GE服务器以及未来40/100GE的服务器接入；业务可演进性，例如，未来演进到IPv6网络是否需要网络整体升级，再如FCoE的整网融合是否可以平滑演进。最后，它是开放的。一方面是网络能力的开放，根据业务需求把网络的能力开放给上层应用和业务；另一方面网络能与其他云计算厂商快速集成，形成特色云计算解决方案。　　综上所述，云计算仍处于变革期，从热炒到试点再到实用，在这个过程中企业在整合业务的同时，也应思考如何迁移到云计算平台上，如何更加有效地降低成本、提升效率是其中的关键。面对云计算的变革期，网络需要具备高弹性、高扩展性、易管理和开放性。整体来看，未来云计算网络将是一个无阻塞、可自愈、即插即用的黑盒网络平台，可持续演进，并提供开放的网络业务，以适应快速变化的云计算业务需求。