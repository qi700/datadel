数据中心建设中引入云计算的思路探讨
本文简要分析了中国电信运营商数据中心目前存在的主要问题，介绍了云计算技术的相关概念，对如何将云计算技术引入数据中心进行了分析，针对不同的情况提出了不同的建设思路。引言：    目前电信行业已经进入全业务竞争时代，传统的数据中心建设方式已经无法满足电信运营商市场竞争的需要，需要对数据中心建设的新模式进行探讨，帮助电信运营商打造具有市场竞争力的新一代数据中心。本文主要探讨云计算技术的发展情况及其在数据中心建设中的应用。1. 数据中心发展情况    1.1 数据中心的定义    数据中心是以电信级机房和网络资源为依托，以高水平专业化技术支撑队伍为基础，为各类用户提供各种资源出租以及相关增值服务，并定期向用户收取相应服务费用的一种电信服务。数据中心拥有完善的设备（包括高速互联网接入带宽、高性能网络、安全可靠的机房环境等）、专业化的管理、完善的应用级服务的服务平台。    1.2 国际国内IDC 的发展现状    目前数据中心主要经历了三个发展阶段。第一阶段主要是提供场地、电源、带宽等基础资源的托管服务。第二阶段在托管服务的基础上，提供各类安全、代维等增值服务。第三阶段则以客户为中心，以服务为导向，在数据中心高性能架构的基础上，提供各类咨询、外包等融合服务，即从传统数据中心演变成为客户IT 服务中心。目前国内的运营商基本属于第二代初级阶段。    由于传统数据中心需要大量基础设施资源，造成服务器和存储设备数量快速增长。但由于基础资源分配手段落后，导致设备利用率不高，且无法将富余的处理能力分配给其他客户，造成一方面资源总量不足，另一方面资源利用率却偏低的现象。    目前各电信运营商为应对全业务竞争的市场态势，正积极引入先进技术、先进理念来解决传统数据中心的不足，建设新一代数据中心。目前一种可以引入数据中心的相对成熟的技术是云计算。2. 云计算介绍    2.1 云计算的定义    云计算是将计算分布在大量的分布式计算机上，使各种应用系统能够根据需要获取计算力、存储空间和信息服务。数据中心的运行将与互联网更加相似，使得运营商能够将资源切换到需要的应用上，根据需求访问计算机和存储系统。    狭义的云计算是指IT 基础设施的交付和使用模式，指通过网络以按需、易扩展的方式获得所需的资源（硬件、平台、软件）。广义的云计算是指服务的交付和使用模式，指通过网络以按需、易扩展的方式获得所需的服务。    云计算包括以下几个层次的服务：基础设施即服务（IaaS），平台即服务（PaaS）和软件即服务（SaaS）。云计算服务通常提供通用的通过浏览器访问的在线应用，软件和数据可以存储在数据中心。    2.2 云计算的服务层次    (1) 基础设施即服务（IaaS）。运营商提供基础设施服务（包括网络、计算、存储、机房、电源、散热等）。这种服务注重计算资源的共享，用户通过互联网可以获得虚拟的服务器、存储和网络。    (2)平台即服务（PaaS）。运营商提供应用框架平台服务（包括应用中间件、应用编程框架，底层基础设施涵盖在其中，用户不需要关注）。这种形式把开发环境作为一种服务提供给客户，客户可以使用中间商的设备来开发自己的程序。    (3)软件即服务（SaaS）。运营商提供最终的应用服务（应用平台和底层基础设施涵盖其中，用户不需要关注），通过浏览器把程序传给成千上万的用户。在用户看来，这样会省去在服务器和软件授权上的开支；在供应商看来，这样只需要维持一个程序即可，可降低成本。    2.3 云计算的基础——虚拟化技术    虚拟化就是把物理资源转变为逻辑上可以管理的资源，以打破物理结构间的壁垒，实现资源的灵活调配及统一管理。虚拟化将硬件、软件、网络、存储等以资源池的形式隔离开来，使用户能更合理、更充分地控制与管理各种资源。    对于数据中心来说，虚拟化主要是指服务器和存储的虚拟化，也可以包括网络设备的虚拟化。服务器虚拟化允许用户在单一主机上运行多个虚拟客户机。通过这种方式，可以增加虚拟机的移动性、降低运行成本、减少管理费用、实现服务器整合等。存储虚拟化就是把多个存储介质模块（硬盘、RAID 等）通过一定的手段集中管理起来，所有的存储模块在一个存储池中统一管理。3. 在数据中心引入云计算技术的思路    3.1 总体思路    在数据中心引入云计算技术，是为了实现从传统数据中心向客户IT 服务中心的转变。由于目前云计算技术在国内尚未大规模应用，其部署运行的经验严重缺乏，因此，在数据中心引入云计算技术只能是一个分期建设、逐步完善的过程。    目前，作为云计算基础的虚拟化技术已经相对成熟，具备了大规模引入的条件。因此引入虚拟化技术，首先实现IaaS 级的云计算服务，是建设新一代数据中心的一个可行的选择。虚拟化技术可以大大提高数据中心资源（主机、存储、网络等）的利用率，而且可以为进一步实现PaaS 和SaaS打下坚实的基础。    在数据中心引入虚拟化技术，也是一个逐步建设的过程。尤其是目前已经投入使用的传统数据中心，对其进行虚拟化改造更应谨慎，保证现有业务的安全。    3.2 新建数据中心引入虚拟化的思路    对于新建数据中心，由于没有前期业务的干扰，可以比较放心地引入虚拟化。但考虑到对技术的理解和消化需要一个适应的过程，因此建议首先实现服务器或存储的虚拟化，最后实现网络的虚拟化。    对于新建数据中心，引入虚拟化的总体思路如下：    (1)首先实现服务器的虚拟化。    可以通过虚拟化软件对新增主机进行管理，实现服务器的虚拟化。目前最为常见的虚拟化软件是Vmware 的软件。运营商可以单独购买虚拟化软件，也有的服务器厂家设备本身就集成了虚拟化软件，运营商可以根据实际情况灵活选择。    (2)第二步是实现存储的虚拟化。    存储虚拟化的实现可以从几个方面进行考虑：    ①基于主机(应用服务器)的虚拟化，通过运行存储管理软件实现。这种方式实现起来最容易，但是可能因为运行虚拟化软件而占用服务器的处理能力，影响到系统的整体性能。    ②基于存储层的虚拟化，在存储设备内部或存储子系统内部实现。这种方法实现起来相对容易，但是这类设备目前还没有统一的标准，因此不同厂商的存储产品很难在单一的存储系统中无缝集成。    ③基于网络的虚拟化，可以在交换机、路由器、存储服务器上实现。将存储网络上的各种品牌的存储子系统整合成一个或多个可以集中管理的存储池，并在存储池中按需建立一个或多个不同大小的虚卷，并将这些虚卷按一定的读写授权分配给存储网络上的各种应用服务器。    考虑到运营商的实际情况，以及数据中心维护的便利性，采用基于网络的虚拟化方案实现存储的虚拟化是比较好的选择。可以在SAN 交换机上侧挂虚拟化设备或运行虚拟化软件来实现。    (3)第三步是实现网络的虚拟化。    网络虚拟化主要是网络设备（交换机、路由器）的虚拟化，也包括安全设备（如防火墙）的虚拟化。它可以是多台设备虚拟成为一台设备，也可以是一台设备虚拟成为多台设备，可根据实际需要进行配置。网络的虚拟化最主要的目的是向更多的客户提供网络资源的服务，增加数据中心的收入。    3.3 现有数据中心引入虚拟化的思路    对于已经投入使用的传统数据中心，由于其运行着大量业务，在引入虚拟化技术时必须保证现有业务的安全。因此不宜搞“一刀切”，应根据实际情况，采取不同的方式引入虚拟化技术。思路如下：    (1)可以先实现网络的虚拟化，后实现服务器和存储的虚拟化。    (2)如果数据中心机房仍有扩容空间，则先在新增的服务器（一定要采用支持虚拟化的产品，最好是刀片式服务器）或存储（最好采用支持FCoE 的产品）上实现虚拟化，然后逐步在原有服务器上实现虚拟化（对不支持虚拟化的原有服务器应逐步进行替换）。在此过程中，可能出现不止一次的数据迁移，必须提前做好割接准备和数据备份工作。    (3)如果IDC 机房已经没有扩容空间，则可以在现有设备中选择部分支持虚拟化的产品进行部署，然后逐步将其他不支持虚拟化的设备替换掉。需要说明的是，这种情况下我们首先考虑的不是设备的改造，而是如何保证现网业务的安全。    (4)存储虚拟化实现的方式更多，也更加灵活，因此可以先实现存储虚拟化，后实现服务器虚拟化。实现存储虚拟化仍然优先推荐基于网络的虚拟化方式。4. 结语    云计算技术在近几年得到了快速发展，其市场应用逐步扩大，其前景是毋庸置疑的。电信运营商建设数据中心时，应该积极研究如何引入云计算技术，提高数据中心设备的使用效率，减低运营成本，增强市场竞争力。