新一代物联网网关研究
摘要：简介了物联网网关的应用背景，提出了网关的总体方案，列举了其中关键枝术，给出了应用案例，介绍了研究团队。
0 引言    随着传感器技术的不断发展成熟，成本的不断降低，多源感知系统将显著改变数据采集系统以及用户与便携式电子产品之间的界面。引导这种发展趋势的原始设备制造商已明确指出希望借助这些传感器在实现用户对信息随时随地动态感知的设想。这些现代传感器提供了设计工程师所需要的感知能力，改变了数据采集系统以及人机交互方式。    本研究为西安电子科技大学承担的中兴通讯公司的项目，主要研究基于中兴智能手机平台的新一代物联网的关键技术。旨在用于物联网关键技术的研发和验证，为中兴通汛研发新一代智能手机产品提供参考依据。通过中兴智能手机与整个物联网系统的通信，可以实现手机导航，移动订阅，环境监控，标签识别，目标感知与定位等功能。研究成果的产品将进一步拓展手机的功能，可广泛应用在工商业，家居生活等多领域。
1 总体方案    本项目是未来4G手机的概念平台，手机作为移动互联网与无线传感网的应用网关使用，在设备接入控制与数据文互中需要使用大量的接入协议与数据传输协议，通过对协议建模与仿真实验，文中提出了多协议融合的技术方案，以便于智能手机平台可在多种场合发挥作用。    本系统由智能移动信息汇集终端和中兴智能手机组成。通过无线网络，系统可实时采集与传输多源数据。手机可根据需要对多源数据进行采集与控制，使周围的无线传感器能与手机进行动态数据交换。    本设计结合无线传感器技术和嵌入式软硬件技术，采用RFID Reader、尢线传感器终端模块、Wi-Fi模块、WAPI模块、ZigBee模块、GPS模块以外部扩展方式，确保利用中兴智能手机平台对周围无线传感器模块的实时采集。本研究采用高精度电压参考芯片为系统信号采集了系统提供参考电压基准，系统通过ZigBee模块完成现场温度、湿度等信息的感知；并采用蓝牙Bluetooth(IEEE 802．15)模块实现评估板多源信息到中兴智能手机的无线传输。系统的主要支撑技术有嵌入式技术、无线局域组网技术、多协议处理、人机交互界面、RFID等，实现了以智能移动平台终端为核心的自动化、信息化的多功能信息感知应用系统。
2 系统架构    本系统的主要支撑技术有：嵌入式技术、无线局域组网技术、多协议处理、人机交互界面、RFID等，实现了以智能移动平台终端为核心的自动化、信息化的多功能信息感知应用系统。其系统网络结构如图1所示，该网络结构也是未来物联网发展的一个雏形。
在图1的系统结构中，手机作为一个重要终端，通过蓝牙设备到达网关设备，然后由网关设备对ZigBee网络、电子标签、3G网络、Wi-Fi／WAPI网络、北斗网络等网络和设备之间进行完美的网络融合和技术革新，充分体现了现实物品通过射频识别等信息传感设备与互联网连接起来，实现智能化识别和管理这一物联理念。    嵌入式系统开发分为软件开发和硬件开发两部分。    硬件模块目前主要包括ARM9-S3C2440开发板、BC4RS 232串口蓝牙适配器、RC500非接触式IC卡开发板、ZigBee模块、M2M模块、智能蓝牙手机。开发板上的核心是ARM处理器，处理器中有裁剪的Linux系统和相应的C语言程序，由于控制整个系统的设备运转以及处理各子网络的数据。SDRAM和FLASH与S3C2440相连，用作缓存和存储程序。分布在处理器周围的蓝牙无线传输接口，可通过虚拟串口通过蓝牙技术与中兴智能手机进行通信。ZigBee模块用于接收ARM处理器的指令，发送到ZigBee网络，同时可以接收ZigBee网络返回的消息。RFID接口模块的作用类似于ZigBee的接口模块，同样用于接收处理器的指令和RFID网络返回的消息，并发送给另外一端。中兴Mu301通过USB接口与M2M模块连接。手机端通过J2ME开发的JAVA虚拟机上的应用程序利用蓝牙的虚拟串口通信协议与开发板上的蓝牙模块接口传递消息。    嵌入式系统在开发过程一般都采用“宿主机／目标板”开发模式，即利用宿主机(PC机)上丰富的软硬件资源及良好的开发环境和调试工具来开发目标板上的软件，然后通过交叉编译环境生成目标代码和可执行文件，通过串口／USB／以太网等方式下载到目标板上，利用交叉调试器在监控程序运行，实时分析，最后，将程序下载固化到目标机上，完成整个开发过程。在软件设计上，为结合ARM硬件环境及ADS软件开发环境所设计的嵌入式系统开发流程图。整个开发过程基本包括以下几个步骤：    (1)源代码编写：编写源C／C++及汇编程序；    (2)程序编译：通过专用编译器编译程序；    (3)软件仿真调试：在SDK中仿真软件运行情况；    (4)程序下载：通过JTAG、USB、UART方式下载到目标板上；    (5)软硬件测试、调试：通过JTAG等方式联合调试程序；    (6)下载固化：程序无误，下载到产品上生产。
3 关键技术    本项目在设计与实现过程中，通常涉及以下一一些关键技术：    (1)本项目需要通过蓝牙技术，来实现手机平台和物联网网关的数据通信。研究手机平台和网关模块的通信机制，以及相关的协议的设计是一个关键问题；    (2)ZigBee协议栈在CC2430芯片上集成了Z-Stack的协议栈。因此，需要深入研究ARM Linux和ZigBee协议栈的深度结合机制；    (3)在本项目中，通过手机平台让用户和ZigBee网络进行交互，如何设计手机平台和ZigBee协议的交互机制是一个研究重点；    (4)RFID模块可以实现对射频标签的读写的功能。因此要解决ARM Linux和RFID阅读器的结合问题，实现通过Linux平台控制对RFID的读写等操作；    (5)基于ARM Linux和手机平台，作为RFID信息过滤器和事件规则处理引擎的关键技术研究；    (6)研究ARM Linux和手机平台，与中兴TD-MU240模块的集成机制；    (7)研究如何将应用于物联网的蓝牙技术与RFID安全认证技术有效结合。通过这项技术可以借助RFID快速安全建立蓝牙连接；    (8)节能、可靠是无线传感网关注的两个重点，物联网无线传感网络中节能可靠路由协议研究也是本项目的一个关键。本项目提出一些路由协议可以有效减少无线传感网络的能耗、并提高网络的可靠性；    (9)针对无线传感网络的被动故障检测方法进行研究。本项目采取基于汇聚节点被动接收和BP神经网络相结合的无线传感器网络故障诊断方法。
4 应用场景    本项目所研制的物联网互操作平台和动态网络协议，具有灵敏度高、实用性好、模块化等特点，该技术的成功将增强智能手机的自动化程度，大幅度扩展无线传感器网络的应用范围，能在社会的各领域广泛使用。基于无线传感器网络的物联网应用，可节省大量布线，减少资源的浪费，从而为建设节约型社会做出积极贡献。    基于物联网的手机在我国还属于方兴末艾的新事物，智能化手机集成的多项功能、手机作为应用网关未来会成为社会发展的必然趋势，具有广阔的市场空间。据相关资料统计，未来5年中国的智能化小区将以30％的速度增长，预计到2020年，我国大中城市中的60％住宅要实现智能化。因此，可以预见，该预研项目涉及的新的手机产品具有广阔的产业化前景。目前所要实现的两个示范性应用分别是校园安全系统和机场智能领取行李系统。    基于物联网的校园安全演示系统，将先进的射频识别技术(RFID)，无线传感技术(ZigBee)与互联网、移动网络结合，打造一个立体化的安全网络管理系统。系统采用RFID技术实时读取学生信息，在校门、教学楼等地布点通过ZigBee技术形成自组织的多跳网络，再由汇聚节点上传获取的信息，管理人员可通过手持设备在校园中随时随地查询管理。    基于物联网的智能领取行李系统，是将射频识别技术(RFID)、无线传感技术(ZigBee)与互联网、移动网络相结合，以便智能、高效地解决旅客在机场领取行李可能出现的问题。该系统凭借绑定在行李上的身份标签和可以作为读卡器的手机，乘客下了飞机之后可以很容易地在繁多的行李中找到属于自己的行李。并且领取行李之后，系统会匹配每个旅客的行李信息，避免出现少拿，多拿或者拿错行李的情况。
5 参与团队介绍    本项目课题组长期从事软件中间件以及传感／物联网方面的研究，对传感／物联网进行了长期研究，目前已完成或正在实施多个物联网、传感网的相关项目，包括自然科学基金和国家科技重大专项。撰写了多篇包括蓝牙通信安全，RFID身份验证，ZigBee网络诊断等相关的专利，在IEEE Transaction、ACM Transaction等期刊和国际学术会议上发表了30多篇论文。目前还对移动传感／物联网，移动社会关系网络进行了大量研究工作。    在课题组实施的项目中，“基于中兴手机平台的新一代物联网关键技术研究”获得了2011年中兴通讯产学研合作论坛年会“2010年优秀合作项目”，并到深圳大梅沙参加表彰会。通过本项目的合作，进一步提升了本课题组师生的研究水平，这为本项目的成功实施提供了有力保证。    本文的课题组和美国Wayne State University、香港科技大学、香港理工大学、上海交通大学、西安交通大学、国防科技大学等研究者一直保持交流和合作。目前有4名教师，有30多名研究生在实验室从事研发工作，团队研发能力较强。    本研究通过中兴手机与整个物联网系统的通信，可以实现手机导航，移动订阅，环境监控，标签识别，目标感知与定位等功能。研究成果的产品将进一步拓展手机的功能，可广泛应用在工商业，家居生活等多领域。
6 结语    2011年3月25日，经陕西省工信厅批复，陕西省物联网产业联盟正式成立。陕西省物联网产业联盟的成立，是陕西省大力扶持物联网产业的又一重要举措，有利于整合资源优势，提升陕西省物联网产业的知名度和竞争力。在陕西省物联网实验研究中心的积极努力下，西安电子科技大学成为联盟成员单位之一，陕西省物联网实验研究中心常务副主任张小平任联盟副秘书长和副理事长。