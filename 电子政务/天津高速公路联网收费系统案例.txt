天津高速公路联网收费系统案例
方案采用东方通的中间件产品TongLINK/Q为某高速公路项目提供了一个高效、高可靠、可扩展的数据传输支撑环境。
天津市高速公路联网收费系统除了要求在高速公路收费方面可以实现市内的联网收费外，还需要通过拆账系统实现路段公司之间的拆账，从而减少司机停车交费的次数，进而减少路段公司的运营成本; 在高速公路监控方面可以实现路网的交通控制，提高高速公路网的通行能力; 在高速公路通信网的建设上为高速公路的信息传输提供高效、可靠的通信平台。
具体到中间件方面，联网收费数据传输系统要求数据的可靠传输、保证系统的处理效率、7×24的高可用性、动态扩展能力、自动数据压缩功能、跨平台、适应多种网络。
TongLINK/Q的部署
TongLINK/Q作为消息传输中间件，主要负责车道、分中心和总中心之间的数据可靠、快捷地交互传递。通过TongLINK/Q构架组建了一个深度为3的树型网络: 总中心的服务器为树型网络的根节点(TongLINK/Q的一级中心)，分中心的服务器为树型网络的次根节点(TongLINK/Q的二级中心)，各个车道为树型网路的叶子节点(TongLINK/Q的前端)。数据传输系统利用各种网络，组成一个树型拓扑结构的通信网络。它们之间的数据传输是通过消息中间件TongLINK/Q来实现的，工作过程如下:
1. 车道发送应用程序调用消息中间件TongLINK/Q的接口函数，将要发送的数据或文件信息提交给TongLINK/Q的本地发送队列。
2. 车道TongLINK/Q核心进程从发送队列中取出消息，若是需要可靠传输的消息则先在可靠队列中进行缓存。
3. 根椐消息中的接收者(分中心)的名字经由TongLINK/Q之间建立的数据通道，将该消息传送到接收者(分中心)的TongLINK/Q核心。
4. 接收者(分中心)的TongLINK/Q核心收到消息，若是需要可靠传输的消息则先在可靠队列中进行缓存，并将消息写入接收队列中。
5.分中心的接收应用进程通过调用TongLINK/Q的接口函数，从接收队列中取出消息，并交给相应的业务处理应用进行处理。
分中心到车道的数据下发与上述过程相反。
车道到分中心的网络如果出现问题，正在传输中的数据会在系统可靠队列中存储，未发送数据及后续上传数据会在前端发送方磁盘中堆积，网络故障排除后，积累数据可自动上传，保证数据的完整性。
TongLINK/Q的集群部署
TongLINK/Q集群提供将消息的接收和处理分布到若干个TongLINK/Q节点上的机制，以提高处理能力，而对外只提供一个入口: 集群名 + 集群队列名。
集群的接收队列可分布在集群多个TongLINK/Q节点上，集群的多个节点在一个群组内共同工作。与单独工作的节点相比，集群能够提供更高的可用性和可扩充性。集群中的每个节点都拥有自己的资源(处理器、I/O、内存、操作系统、存储器等)。
利用TongLINK/Q构建的高速公路联网收费项目底层数据传输能够很好地保证数据传输的可靠性。在TongLINK/Q中，传输数据可以通过可靠的消息队列进行存放和发送，保证数据一次到达，即使出现宕机或网络故障等情况，数据也能在系统和网络恢复后得到可靠传输。
为了进一步提高数据传输系统的处理效率，TongLINK/Q通过缓冲池将大量并发的请求进行缓冲，以降低系统用于进程调度所花费的大量开销。通过控制和数据库的连接数目，保证数据库系统对数据库操作的高效响应。同时，TongLINK/Q提供的应用进程管理，对频繁调用的服务、不频繁调用的服务和定时响应的服务都能够对请求做出快速的响应。