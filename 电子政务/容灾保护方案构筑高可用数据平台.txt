容灾保护方案构筑高可用数据平台
项目背景 　　瑞贝卡发制品股份有限公司是一家集研制、开发、生产、销售于一体的国内最大的发制品专业公司，拥有各类员工7000多人，资产总值6.7亿元。目前，该公司正跨入规模经营、规模效益的发展阶段，为提高市场竞争能力、企业盈利和抗风险能力，该公司以经济效益为中心，以科技进步为动力，以现代管理为依托，实现了原材料进口到成品出口，整合生产、销售和管理的ERP信息化管理系统。在瑞贝卡公司以往的业务系统中，仅考虑本地高可用性，即通过单机的RAID系统，对数据应用提供保护，当一台服务器的硬盘发生故障时，可以做到在线更换。这在很大程度上避免了服务器的单点故障，提高了整个业务系统的可用性。 　　但是随着瑞贝卡公司业务的不断发展和信息化建设的不断深入，公司对ERP业务系统的依赖程度不断提升，这使得数据安全问题被提到了前所未有的高度。因为一旦出现异常情况，如火灾、水灾或人为因素造成的破坏导致数据丢失，整个业务系统将无法正常运行，造成的损失将不可估量。因此，对于瑞贝卡公司来说，提升信息系统的安全性势在必行。 　　构筑异地容灾方案 　　在详细了解瑞贝卡公司系统建设需求基础上，浪潮认为要最大限度的保证业务系统工作的连续性、可靠性，需要建设一个全面的、整体的异地容灾方案，除了要实现本地的切换保护外，还要实现数据的实时异地复制和业务系统（数据库和应用软件）的实时远程切换。浪潮认为，在新系统的建设过程中，必须考虑如下几个问题： 　　可用性问题：如何保证系统连续稳定的运行，将是首要的问题，数据的集中管理往往会导致某个中心数据库系统的瘫痪，而导致整个业务的停顿，如何解决这个问题将是ERP系统发展的关键，也是ERP数据中心建设的第一步。 　　安全性问题：随着竞争的不断加剧，业务部门要求更高的系统可用性，要求实现真正的异地容灾保护。因为一旦出现异常情况，如火灾、爆炸或某个方向线路故障等，将导致业务正常无法进行和重要数据的丢失、破坏，造成的损失将不可估量。因此，瑞贝卡公司ERP业务系统可以在发生上述灾难时快速恢复，将损失降到最低点。 　　可扩展性问题：随着ERP系统信息化的应用，企业的信息化应用将会迅速发展，因此，如何使系统能够满足企业业务发展的需要，数据处理平台的可扩展性将会成为保障数据中心高效运行的关键因素。 　　在经过反复了解之后，浪潮存储给出了完整的异地容灾解决方案。 　　如下图拓扑图所示，浪潮的异地容灾方案是一个完整的方案，该方案包括三个功能：主节点到灾备节点的数据远程实时复制；本地应用服务和数据复制服务的切换保护和应用远程容灾切换。在该方案中，采用了SUN 440服务器、浪潮CX300光纤阵列、光纤交换机和VERITAS容灾备份管理软件。
瑞贝卡ERP系统异地容灾方案拓扑图
方案的特点及优势： 　　1、本方案能够支持手动/自动信令容灾方案，用户可以根据实际需要进行自由选择。 　　2、由于采用了通过SRL、DCM、严格的按写顺序传送、双收条确认、反向切换时的重置等技术，本方案可以最大限度地保证主、备节点的数据一致性，同时支持 1+1、N+1和节点互备方式，满足用户的不同需求。 　　3、采用基于卷的VVR数据传输方式，每次传送的数据量基本就是每次系统I/O的数据大小。这样可以得到最大的带宽利用率。 　　4、软硬件设备均采用全球领导性厂商，如异地容灾热备软件采用的是全球容灾备份软件领域中排名第一的VERITAS容灾备份软件，数据库核心存储采用是全球磁盘存储阵列领域中排名第一的浪潮 CX300 全光纤存储阵列，服务器采用SUN的小型机。顶级硬件产品的应用未瑞贝卡的业务系统带来了更高的安全性保障。 　　项目实施情况 　　该方案目前已全部实施完毕。基于对中国企业用户需求的深刻理解，依托国际化品质的信息存储产品，浪潮以合适的成本让用户享受到业界领先的解决方案，使数据得到最大程度的保护，实现了最佳的投资保护模式。