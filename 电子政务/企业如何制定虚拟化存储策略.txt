企业如何制定虚拟化存储策略
当谈到服务器整合或建立一个发展环境时，虚拟化是实现这些的首选。一个有效的企业级虚拟策略需要仔细的计划。这包括合适地选择虚拟化基础架构的组件。最关键的是，这个策略必
须包含适当的共享存储，以便利用虚拟化软件的高端功能。
虚拟存储选择
要根据你的特殊要求和选择利用的虚拟化类型来选择实施虚拟化的存储的种类。本文将重点介绍两种主要类型的虚拟化：第一种是基于主机的虚拟化。
基于主机的虚拟存储依赖于代理或管理软件，它们安装在一个或多个主机操作系统上，比如VMware Server或Virtual Server 2005，从而实现存储虚拟化的控制和管理。
第二种是在裸机环境中实现的虚拟化，比如运行VMware ESX Server的裸机环境。
对于两种虚拟化，你可以选择基于主机的存储也可以选择共享的存储，但如果你要使用基于主机的存储，而不是SAN或支持NAS设备。你必须意识到其中的局限性。基于主机的虚拟化软件不识别SAN，但是利用下层操作系统的SAN连通性，你仍然可以在SAN或高速NAS上运行虚拟设备。在SAN上运行虚拟设备你不会获得预期的效果，使用裸机虚拟，这是个可以考虑的选择。下面，将对每个装置的细节做具体讲述。
Host-based虚拟和host-based存储(host/host)
这是最容易掌握和实现的部分。这里，虚拟化软件，虚拟设备和存储都是本地的。另外，由于虚拟化软件不是运行在Lunix上就是运行在Windows 上，因此，对于怎么管理这个环境，你可能已经很熟悉了。然而，在这种情形下，你的虚拟化设备几乎得不到实时的保护。如果你的主机服务器崩溃，所以虚拟设备将崩溃，但该过程需要耗费一定时间，取决于你如何进行备份，你可能失去一些数据。
Hosted-based虚拟和共享存储(host/shared)
如果你有一个SAN设备或得到支持的NAS设备，而且你执行基于主机的虚拟（也许出于价格考虑），这是你的最佳选择。在这种情况下，虚拟设备仍将运行在主机操作系统上，但你可以在SAN上存储虚拟设备配置和数据文件。因为虚拟软件本身不识别SAN，你仍可利用SAN提供的性能，让你的环境具有更高的可用性。比如，使用这种方法你可以利用SAN的快照功能，这就是说，如果虚拟设备出现故障，你可以很简单地进行恢复。此外，如果你的虚拟主机服务器崩溃了，你可以很快地将SAN卷分配到不同的服务器上。
裸机虚拟和host-based存储(metal/host)
个人认为这种搭配是最难控制的，这种情况下你在裸机上运行VMware ESX服务器，在本地磁盘上存储单个虚拟器．你有和基于主机模式同样的危险和恢复限制，但你不能受益于备份虚拟器文件，除非运用第三方软件。对此你最好的选择是象对待服务器一样个别的备份每个虚拟器．就是使用NTbackup或按照备份软件代理。
裸机虚拟和共享存储(metal/shared)
这是目前最合人意也是成本最高的方法。在这种情形下，你可获得所有host/shared的好处（如快照功能），但使用VMware ESX你还可获得一些不可思议的功能，包括VMotion, VMware HA（如高可用性），和VMware DRS (Distributed Resource Scheduler)。VMotion允许你在ESX主机间无缝地移动运行中的虚拟器。HA监视你的ESX主机，一发现主机错误，就自动地将访问者从出错的主机上移动到集群服务器上。DRS在相配的ESX主机间自动地移动虚拟器。DRS同时提供"maintenance mode"选择，你可以使DRS将所有访问者从主机节点上移开，这样你可对该节点实行维护。
所有的功能都需要支持光纤通道或iScsI SAN或NAS设备的共享存储。
总结
一个可升级的、高可用性的虚拟化环境可帮助你节省大量时间和资金，但你需要仔细地制定你的虚拟化存储策略然后决定哪种方法最适合你的公司。