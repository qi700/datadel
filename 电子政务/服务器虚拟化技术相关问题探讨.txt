服务器虚拟化技术相关问题探讨
针对服务器虚拟化技术的概念、支撑技术、优势特点及性能等，并结合服务器虚拟化项目对服务器虚拟化技术方案进行分析，为需要通过服务器虚拟化技术进行数据中心改造的企业提供相关基础。一 引言
虚拟化技术是伴随着计算机技术的产生而出现的，Wikipezdia曾给出虚拟化的定义。虚拟化是表示计算机资源的抽象方法，通过虚拟化可以用与访问抽象前资源一致的方法访问抽象后的资源。这种资源的抽象方法并不受实现，地理位置或底层资源的物理配置的限制。服务器虚拟化将系统虚拟化技术应用于服务器上，将一个服务器虚拟战若干个服务器使用。在采用服务器虚拟化之前，三种不同的应用分别运行于三个独它的物理服务器之上，采用服务器虚拟化之后，这三种应用运行在三个独立的虚拟服务器之上，而这三个虚拟服务器可以被一个物理服务器托管。服务器虚拟化为虚拟服务器提供了能够支持其运行的硬件资源抽象，包括虚拟BIOS，虚拟处理器、虚拟内存、虚拟设备与I/O，并为虚拟机提供了良好的隔离性和安全性。
二 服务器虚拟化的支撑技术
服务器虚拟化必备的是对三种硬件资源的虚拟化：CPU、内存、设备与I/O。此外，为了实现更好的动态资源整合，当前的服务器虚拟化大多支持虚拟机的实时迁移。
2.1 CPU虚拟化
CPU虚拟化技术把物理CPU抽象成虚拟CPU，任意时刻一个物理CPU只能运行一个虚拟CPU指令。每个客户操作系统可以使用一个或多个虚拟CPU。在这些客户操作系统之间，虚拟CPU的运行相互隔离，互不影响。
目前，业界提出了全虚拟化和半虚拟化两种不同的软件方案。全虚拟化采用二进制动态翻译技术(Dynamic Binary Translation)来解决客户操作系统的特权指令问题。半虚拟化通过修改客户操作系统来解决虚拟机构执行特权指令的问题。在半虚拟化中。被虚拟化平台托管的客户操作系统需要修改其操作系统，将所有敏感指令替换为对底层虚拟化平台的超级调用(Hypercall)。
2.2 内存虚拟化
内存虚拟化技术把物理机的真实物理内存统一管理，包装成多少虚拟的物理内存分别供若干个虚拟机使用，使得每个虚拟机拥有各自对立的内存空间。
在内存虚拟化中，虚拟机监视器要能够管理物理机上的内存，并按每个虚拟机对内存的需求划分机器内存，同时保持各个虚拟机对内存访问的相互隔离。从本质上讲，物理机的内存是一段连续的地址空间，上层应用对于内存的访问多是随机的，因此虚拟机监视器需要维护物理机里内存地址块和虚拟机内部看到的连续内存块的映射关系，保证虚拟机的内存访问是连续的、一致的。虚拟机监视器通过虚拟机内存管理单元管理虚拟机内存。虚拟机中操作系统看到的“物理 内存不再是真正的物理内存，而是被虚拟机监视器管理的“伪”物理内存。与这个。物理”内存相对应的是机器内存。机器内存是指物理服务器硬件上的真正内存。在内存虚拟化中存在着逻辑内存、“物理 内存和机器内存三种内存类型。
在内存虚拟化中，逻辑内存与机器内存之间的映射关系是由内存虚拟化管理单元来负责的。内存虚拟化管理单元的实现主要有影子页表法和页表写入法。
2.3 设备与I/O虚拟化
设备与I/O虚拟化技术把物理机的真实设备统一管理，包装成多个虚拟设备给若干个虚拟机使用，响应每个虚拟机的设备访问请求和I/O请求。目前，主流的设备与I/O虚拟化都是通过软件的方式实现的。
虚拟化平台将物理机的设备虚拟化，把这些设备标准化为一系列的虚拟设备，为虚拟机提供了一个可以使用的虚拟设备集合。这种将虚拟设备统一并标准化的方式带来的另一个好处就是虚拟机并不依赖于底层物理设备的实现。只要虚拟化平台始终保持一致，虚拟机就可以在不同的物理平台上进行迁移。
三 服务器虚拟化的技术优势
3.1 降低运营成本
服务器虚拟化使得系统管理员摆脱大量繁重的与物理服务器、操作系统、中间件及兼容性问题打交道的管理工作，更加专注于应用的管理。同时，虚拟化环境管理工具，可降低管理员进行人工干预的频率，并提供更简便、更强大的管理界面。因此，服务器虚拟化可以降低IT基础设施的运营成本，促进企业进一步采用信息化工具和服务。
3.2 提高应用兼容性
服务器虚拟化技术提供的封装和隔离特性使得应用所在的平台与底层服务器环境隔离，管理员不再需要数据底层环境的变化频繁地调整应用，仅需构建一个应用版本，并将其发布到被虚拟化封装后的不同类型的平台上。
3.3 加快应用部署
服务器虚拟化使得部署一个应用其实就是部署一个封装好的操作系统和应用程序的虚拟机，部署过程只需要以下几个步骤：输入激活配置参数、拷贝虚拟机、启动虚拟机、激活(配置)虚拟机。相对于传统的应用部署方式，服务器虚拟化技术不需要干预，缩短了部署时间。降低了部署成本
3.4 提高服务可用性
在采用了虚拟化的数据中心里，由于虚拟机是单个的逻辑文件，并且对应的处理器和内存资源都被虚拟机管理程序封装和隔离。因此用户可以方便地对运行中的虚拟机快照并备份成虚拟机镜像文件。在需要的时候动态迁移虚拟机，将它恢复到备份或者在其他物理机上运行该设备以提高可用性，更高的服务可用性。
3.5 提升资源利用率
采用服务器虚拟化技术，通过虚拟化技术提供的隔离性、封装性，保证原有服务仍然可用，其安全性能不会受到影响。据分析，通过对服务器进行虚拟化整合，不仅服务器的CPU使用率得到了提高，而且服务器的内存利用率、存储利用率和网络利用率也得到了大幅度提高。
3.6 动态调度资源
服务器虚拟化技术使得用户可以即时地调整虚拟机的资源，如CPU、内存等，而无需像物理服务器那样关闭服务器。打开机箱安装设备，再重新启动系统，虚拟化成品都提供了可以披程序调用的资源调整API，以及用户可以操作的界面，虚拟机的资源可以灵活调整分配。
3.7 降低资源消耗
服务器虚拟化为解除应用与物理服务器的绑定提供了可能，在负载低谷时，管理员可以将原来运行在各个服务器上的应用整合到较少的几台服务器上，关闭空闲的物理服务器，通过减少运行的物理服务器数量，减少CPU以外个单元的耗电量，达到绿色节能的目的。
四 结语
服务器虚拟化技术极大地提高了服务器整台的效率，大幅度简化了服务器群管理的复杂性，提高了整体系统的可用性和服务器资源的利用率，明显减少投资成本，具有较好的技术领先性和性价比。此外，虚拟技术采用了将传统服务器应用程序环境封装成可移动的档案文件的技术，很容易实现业务的连续不间断运行，针对应用和访问量灵活部署，降低系统总成本，在信息化领域中应用前景广阔。