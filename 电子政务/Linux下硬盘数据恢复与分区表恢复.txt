Linux下硬盘数据恢复与分区表恢复
硬盘分区表或数据丢失，是非常让人头痛的事。所幸的是，现在有相当多的工具可以对数据进行恢复。
体验一下testdisk，恢复一个硬盘的分区表，找回重要数据。而整个过程，只花了不到10分钟，且不需要进行系统重启(需特定硬件环境)。
同事拿来一硬盘，说是他朋友在dos下安装WIN2000，运行smartdrv带些参数后导致分区表损坏(比较郁闷，smartdrv.exe会导致硬盘分区表损坏么?)。同事用了easy recovery：在Advanced recovery模式下无法扫描到分区表，故无法进行数据恢复;在RAW recovery模式下找到数据，恢复了数据，却无法使用。
拿到硬盘，接到移动硬盘盒(建议计算机维护人员应常备，硬盘维护常用)，接到我的ubuntu系统。
1、检查硬盘情况
接上移动硬盘，打开移动硬盘电源后，硬盘稳定转动，无异常声音。故判断硬件工作正常。nautilus未找到移动盘。命令行检查设备是否被系统识别：
user@ubuntu:~$ ls /dev/sd* /dev/sda /dev/sda1
结果显示，已找到硬盘和主分区，但扩展分区未被识别。
2、安装testdisk
user@ubuntu:~$ sudo apt -get install testdisk
3、运行testdisk，并进行修复
user@ubuntu:~$ sudo testdisk
4、重新连接硬盘，并检查
之所以没有对系统进行重启，主要还是因为使用了移动硬盘盒。如果直接使用IDE，那还是要重启计算机了。重新接上移动硬盘后，在nautilus中已经可以显示找到的3个扩展分区了，并能正查进行数据操作。