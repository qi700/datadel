流媒体2008北京奥运视频直播解决方案
前言：
流媒体2008北京奥运视频直播解决方案(网吧视频直播)--- 网络直播是利用宽带网络的基础设施，以家用电视机作为主要终端电器，通过网络协议来提供包括电视节目在内的多种数字媒体服务。网络直播具有非常鲜明的特点，可以实现媒体提供者和媒体消费者的实质性互动，它能根据用户的选择配置多种多媒体服务功能，包括数字电视节目，DVD/VCD播放，互联网游览，电子邮件，以及多种在线信息咨询、娱乐、教育及商务功能。
网络直播关键技术是利用计算机或“机顶盒+电视”完成接收视频点播节目、视频广播及网络信息服务等功能。它采用高效的视频压缩技术，与使用传统CATV网络电视使用3-4M视频流传输带宽相比，只用800Kb/s时就可以可以拥有有接近DVD的收视效果；在对业务扩展方面如：网络视频会议、公共信息发布系统、电子政务系统、办公OA系统、等传统网络业务整合，更是传统电视网络无法实现的全新技术。
2008北京奥运的到来，奥运直播到来，一个完美展示视频直播的契机。通过各反馈信息，各事业单位、企业、学校、军队等都有这方面需求。奥运开始的那天，广大网民最急迫的莫过于都希望随时能从网络上直接观看到高质量的视频直播。我们现在就拿网吧视频直播(2008北京奥运视频直播)做例，网吧电脑上公网(因特网)带宽毕竟有限，但内网(局域网1000M交换机)带宽肯定足够。那我们怎么避开占用有限上网带宽，利用局域网做高质量(DVD质量)视频直播。那下面我们就拿广州高创的相关硬件做例，简单叙下实施的解决方案。　　概况：
广州昕创(高创)电子计算机有限公司创立于1997年，是中国最较具实力的应用软件及服务供应商之一，主要涉足多媒体实用工具、网络教育及办公等领域。知名产品有Python系列MPEG硬件编码卡、MP4X编码卡、Gocast视频直播服务器、gobox系列机顶盒、Go网络直播、GoASI 、VplayⅢ多通道播出系统等系列产品。四年来的持续高速发展，高创精品已成为中国优秀软件的一面旗帜。
高创公司位于广州IT中心的天河，毗邻华南理工、华南师范，现各类专业人才近90人，办公面积1000多平方米。公司在北京、上海设有分公司和办事处，在全国各地建立了近3000余家经销及零售网点，在港澳台、东南亚、北美等地区有几十家代理商。
广州市昕创(高创)电子计算机有限公司是一家集多媒体广播视频系统开发、集成和销售为一体的技术性公司，多年来本公司致力于MPEG数字视频的集成销售，并对MPEG数字视频具有丰富的经验。一直以来，我们不断引进国外最先进的技术，同时结合自身强大的技术研发力量，自行设计开发出适合国内广播电视行业、教育需求的专业产品，为广播电视设备国产化和推动行业的发展作出贡献。公司分为市场部、技术部、开发部和行政部等部门。我们以专业的技术力量、完善的售后服务为广大的客户提供实时需求。
广州昕创(高创视频)以专业的技术力量、热诚的服务态度和完善的售后服务为广大的客户提供优质的产品。现在已经在服务与个大企业，政府等单位。部分长期提供服务如：深圳中兴、华为、深圳同洲电子、湖南卫视、PPLIVE直播、国家广播电影电视总局、广东省电网公司广州应急指挥中心、杭州国家安全局、北京军区、广州外国语大学、中山大学、暨南大学、华南师范、华南理工、上海文广、重庆广电局等！　　客户项目需求：
功能描述　　视频直播：
1、利用现有的网络设备，将有线电视的视频节目在网上实时直播，提供码流调整功能，方便实际直播情况。
2、要求采用高性能的最新MPEG-4视频压缩算法和具有按网络状况自动适应的功能，图像每秒25帧，声音清晰流畅，经过传输在接收端显示的图像没有花屏和马赛克现象。可以出WMV流格式，要求通过Windows2003 server 服务器转发。
3、进行高质量的视频直播，要求画面的质量、稳定性、延时性都要非常的好。用户端要求把MediaPlay播放器嵌入到网页，直接点击接收回放。
4、支持在直播的同时将采集到的信号实时录制成MPEG-4、DIVX等格式的文件。
性能要求
1.直播前端采用嵌入式系统，为减少故障点及提高系统稳定性，单机直播节目套数不大于4套，系统能支持7*24运行，平均无故障时间大于5000小时；低CPU占用率。
2.采用通用的Wmv9压缩格式进行音视频编码，每套节目清晰度最高可支持从320x240到720*576；直播1.5M码流达到DVD的质量。
3.系统支持网络化管理，可在远程对机房设备进行管理、配置及软件重置的功能。
4.系统可支持组播、单播、或广播以应对不同的网络条件，视频流能在各网络状况下直播。　　高创系统解决方案： 　　系统概述
信号处理端
GoTVbox系列多路电视解调器是款集中了当今高效率的数字视频技术、最先进的生产工艺、及集成度最高的最新silicon芯片技术，本设备采用特有的模块化设计思想，能够支持1路RF射频输入，同步输出4路、8路、12路、16路或者更多路的音视频信息。每个通道独立，系统采用微电脑控制，超高速稳定的数字化控制搜台，效率是同类产品几倍。支持自动存储、微调、内部放大及自动增益功能操作，支持com口电脑调台，也可以通过简易的按钮和机箱前面可视化液晶面板进行自动搜索、调台等操作，支持全频道、增补频道搜索，自动锁定频点，防止偏移。广播级视频输出，特有的双路音频输出，以满足广大客户在网络视频直播，监播等多种应用。GoTVbox系列多路电视解调器采用1U的工业控制精密设计，可以安装到任何标准的19”工业机架上，方便系统集成安装。
四路、八路、十二路、十六路、
最新silicon芯片技术
高速搜台稳定可靠
1U 4、8、12、16路解调
内部放大及自动增益功能
广播级视频输出，双路音频输出
液晶面板操作显示
支持com口电脑调台
模块化设计，随意增加减少通道　　GoCaster 1100(采集工作站)
GoCaster 1100视频直播服务器是一款集中了当今最高效率的数字视频压缩技术、最先进的生产工艺、及集成度最高的嵌入式服务器，本系统采用了稳定可靠的32位嵌入式操作系统，并支持几乎所有的目前最流行的视频压缩格式包括我们wmv9，MPEG-4/2/1、高品质MPEG-4视频压缩，突破性的能在2Mbps的低码率下提供DVD的图象质量，纯硬件压缩，同时支持4通道压缩传输，并能够保证视音频同步。
GoCaster 1100视频直播服务器采用1U的工业控制精密设计，可以安装到任何标准的19”工业机架上，方便系统集成安装。
GoCaster 1100视频直播服务器应用于高质量的流媒体传输、校园直播、视频会议、网络监控、网上电视、等多方面工作。　　产品独有优势
国内首创纯硬件压缩：现在市场上很多采集卡都是软压，这样会就有需要高质量，高码率怎么办，软件压缩我们CPU根本没法工作下来，解决这样方法就是采用纯硬件压缩，采集压缩编码的任务全部交给硬件来完成。从而做到高码流、高质量、低CPU占用(四路同时20%占用)。2M即达DVD质量。　　一U四路采集压
缩服务器：采用1U的工业控制精密设计，可以安装到任何标准的19”工业机架上，真正的多格式纯硬件MPEGx压缩服务器，做到四路硬件采集压缩的高标准。
支持多格式：Wmv9，MPEG-4 ISO、Wmv、Divx、MPEG-2、MPEG-1
保证视音频同步及7*24小时长时间稳定工作
产品特征：
特点：
国内首套支持MPEG-4 ISO，的MPEGx流媒体视频压缩嵌入式服务器
支持远程IP登陆遥控操作，基于web server
支持MPEG-4 ASP(高级简单层)、SP(简单层)
支持AAC MPEG-4高级音频质编码格式
支持几乎所有的mpeg格式：MPEG-1，MPEG-2， MPEG-4，Divx，Wmv9
支持多种直播模式：UDP、RTP，RTSP，Unicast，Multicast，TCP，Ms media server，Wmv等
音频格式：PCM、MPEG-1 Layer II、MP3、AC-3
兼容多种标准播放软件包括QuickTime，Media Play，RealOne等软件的实时接收解码
支持MPEG-4 IP机顶盒实时接收
支持多种VOD视频点播服务器
支持分辨率高达720 x 576 full D1
纯硬件压缩，占CPU低于10%
可变的GOP结构： I, IP, IBP, IBBP
支持VBR及CBR压缩方式
单机四通道
实时低延时IP网络视频传输，<500ms
1.编码方式(ISMA 1.0标准)：
Gocaster1100全程采用纯硬件压缩。包括支持多种直播模式：UDP、RTP，RTSP，Unicast，Multicast，TCP，Ms media server，Wmv等(图二)。
符合国际ISMA 1.0标准。支持WMV9。
RTP：
可以做到低于500毫秒(半秒)的传输响应时间。　　视频：采用Gomp4x MPEG-4 IP only视频编码，同时也可以采用Gomp4x MPEG-2 IP only、Gomp4x MPEG-1 IP only视频编码。
音频：Xcodec MPEG Audio 1 Layer(MP3)。(我们格式有WMA、AC3、MP3、AAC)
同样直播可以使用点播或者组播方式。
TCP：
广州高创独立开发的DIVX MPEG-4 IBP、DIVX MPEG-4 IP only格式来点播，传输延时低于500豪秒(半秒)
UDP：
同样使用本公司开发的格式DIVX MPEG-4 IBP、DIVX MPEG-4 IP only格式进行直播。
WMV(mms)
采用Microsoft MPEG-4，IP ONLY进行视频直播。音频我们采用WMA。支持WMV9。
2、网络传送方式：
分有组播和单播方式。
单播
在客户端与媒体服务器之间需要建立一个单独的数据通道，从一台服务器送出的每个数据包只能传送给一个客户机,这种传送方式称为单播(图三)。相应的播放方式我们也可以在XstreamIII或者Gostream软件设置。
我们现在规划网吧的采集服务器工作站和流媒体转发服务器间采用单播方式。流媒体转发服务器和终端机间也可以采用单播。即如下图：
采集服务器和流媒体转发服务器：他们间单播并发流我们设置1台转发服务器
流媒体转发服务器和终端电脑：他们间单播数可以1~400台(假设我们这样同一网段有300台主机上网，也就是说这台转发服务器主机可以带起终端电脑400台。)
组播
IP组播技术构建一种具有组播能力的网络，允许路由器一次将数据包复制到多个通道上。采用组播方式(图四)，单台服务器能够对几十万台客户机同时发送连续数据流而无延时。媒体服务器只需要发送一个信息包，而不是多个；所有发出请求的客户端共享同一信息包。
组播也可以在有需要的校园网或者校园网里的一个子内网进行。
他们可以连接数为不限制的无数。(也就是说如果我们在比如一个电教室电脑可以有无数台去连接)
3、整体传输方案：
设想流媒体转发服务器及其管理系统构成单/组播发送到现各主机上。
节目源电视、网络讲座、会议等。
网络视频直播系统采用先进的流媒体传输技术，基于高创自有直播技术开发。能够实时采集直播现场的音视频信号，并通过IP网络实时的将这些现场信息直播出去。实现远程多媒体同步直播。系统可实现同步录制，以保存所需要素材。
a：有线电视的射频信号，需要通过电视解调器将每路解输出AV信号。这里的AV信号将提供给采集工作站。如果不是直播电视节目，有其他DVD源或者摄象机拍摄，也可以直接将AV信号给采集工作站。
b：采集工作站：Gocaster1100里配置的直播软件采集压缩节目后，进行编码对外发流。通过设置每路节目都对应自己的端口来区分开节目。
比如现在出的节目流地址为MMS://192.168.1.76:9000 。同时可以选择保存，以便保存所需要的素材。转发服务器用拉的方式需要个这个地址来建立直播发布点。
c：流媒体转发服务器：做为一台面对所有终端电脑要访问的平台，我们采用的Microsoft Windows Media Service是一个能适应多种网络带宽条件的流式多媒体信息的发布平台，包括了流式媒体的制作、发布、播放和管理的一整套解决方案。Windows Media Service系统能用于多种网络环境，基本的应用方式有：点播服务工作方式，单点或多点广播服务工作方式，服务器扩展工作方式。
d：服务对象：网吧所有的联网终端机。
如(图一)所示：
我们现在通过Gocaster1100采集直播服务器将节目采集下压缩编码成流对外传输，
o我们在这可以选择单播MPEG4格式进行。
o码流可设置2M(达到DVD的质量)
o拉Gocaster1100服务器流可以增加多台转发服务器，可以达到要求的扩展性好。
o我们的流媒体转发服务器将拉Gocaster1100服务器的流(如：MMS://192.168.1.76:9000)到平台上，再通过Microsoft Windows Media Service对外进行点播或者多点广播服务。
o可以根据我们具体子内网情况在Microsoft Windows Media Service设置直播。
o我们无需在上百台上终端电脑装载任何插件或者软件(方便维护，节省管理人员工作量)。终端电脑可以通过本电脑自带的Media player来访问Microsoft Windows Media Service产生的任务发布点地址(如：mms://192.168.1.100/cctv)进行收看节目。
o同时可以自己在转发服务器上建个IIS平台，做几个简单的网页，将播放器嵌入网页，建立个播放菜单，而上网客户可以点这内网网页直接观看节目。相对比起现在网络上其他的视频直播(300K~500K)视频来，网吧每个终端在不影响占用上网带宽情况下，都可以欣赏上DVD高质量的视频直播。
4、控制及安全：
a:为方便管理人员平时的各项操作，软件集成为web化方式，管理人员可以在网上的任何一台电脑上打开IE，直接输入服务器地址，经过帐号和密码的确认，进入web直接对我们直播的各种参数进行调试。无需要管理到服务器边对它直接操作。
b:我们采用嵌入式系统安全可靠，同时操作方便，当发生不可以预料问题，可以直接重启，电脑会自动重新打开软件进行新的一轮操作。
c:当每个终端电脑访问我们的流媒体转发服务器，我们可以对他们终端进行控制，比如限制某某IP访问等等。具体可以在Microsoft Windows Media Service里的每个发布点属性中进行控制。这样将给我们服务器上了把验证锁，允许的才能进入。
d：在整个系统中，终端客户唯一知道的就是Microsoft Windows Media Service出来流的发布点，而这个流是已经在这平台上重新进行了一次转发。而从gocater1100出的原始流地址、端口等相关的流信息得到保护，终端客户无法得知后台运行的一切。从而在安全上大大的上了一环。以保证整个系统的稳定运行。
最后，以上方案有：
广州昕创(高创)电子计算机有限公司---占先生馔写提供，如果有朋友需要配置或者成本这块压缩控制等，或你们有好的建议等可以加我qq：56281553 e-mail：qq@gotron.net手机：13725353060欢迎广大朋友相互指导、交流。
售后服务事项
1、基本服务方针
本公司非常注重对用户的售后培训，对于售后产品的管理与服务，本公司按照严格的质量服务保障体系进行。凡购买本产品的用户都可以接受本公司的免费培训。负责培训的工程师对产品的核心思想有着深入的理解与领会，培训教师很可能就是产品规划设计者之一。
本公司对产品的技术支持服务包括：现场服务，电话咨询，电子邮件等方式，以确保用户的视频服务系统能够安全稳定地运行。除了对本产品提供一流的技术支持服务外，本公司还将为用户提供全方位的网络视频应用解决方案咨询。
2、标准服务条款
本公司有以下服务承诺：
3)免费为用户进行现场系统培训，培训内容包括：应用系统操作和使用、系统数据备份、系统日常维护与管理、系统安装调试。
4)费提供产品的培训文挡，包括使用说明、系统安装调试说明等。
5)提供免费终身系统维护和升级服务(分为免费和收费服务两种)。
6)提供终身售后跟踪服务，通过电话、传真、电子邮件等方式解答用户在实际使用过程中遇到的技术难题。
7)遇系统大故障，本地用户5小时内响应，外地用户12小时内响应。
8)定期访问用户，了解系统使用情况。
9)优先为用户提供本公司的其它产品应用解决方案，并以优惠价格提供产品。
3、有偿服务条款
1)有重大技术升级时的产品升级。
2)功能定制时需对产品进行二次开发。
3)其它不属于免费服务的服务类型。【文章出处】